(function(){"use strict";var e={2688:function(e,t,a){var s=a(9242),i=(a(560),a(3396)),n=a(7139),r=a(4870),l=a.p+"img/header.19e15614.png",o=a(65);const c={class:"mb-3"},u=(0,i._)("label",{class:"form-label",for:"characterName"},"Nom du personnage",-1),m=["value"],d={class:"mb-3"},p=(0,i._)("label",{class:"form-label",for:"characterName"},"Nom du joueur",-1),v=["value"],h={class:"mb-3"},g=(0,i._)("label",{class:"form-label",for:"alignment"},"Alignement",-1),S=["value"],f=(0,i.uE)('<option value="">Choisir un alignment</option><option value="Loyal Bon">Loyal Bon</option><option value="Neutre Bon">Neutre Bon</option><option value="Chaotique Bon">Chaotique Bon</option><option value="Loyal Neutre">Loyal Neutre</option><option value="Neutre">Neutre</option><option value="Chaotique Neutre">Chaotique Neutre</option><option value="Loyal Mauvais">Loyal Mauvais</option><option value="Neutre Mauvais">Neutre Mauvais</option><option value="Chaotique Mauvais">Chaotique Mauvais</option>',10),b=[f],y=(0,i._)("button",{type:"submit",class:"btn btn-primary"},"Submit",-1);var _={__name:"CharacterForm1",emits:["next"],setup(e,{emit:t}){const a=(0,o.oR)(),n=t,r=()=>n("next"),l=(0,i.Fl)((()=>a.getters["characterForm1/characterName"])),f=e=>a.commit("characterForm1/setCharacterName",e.target.value),_=(0,i.Fl)((()=>a.getters["characterForm1/playerName"])),I=e=>a.commit("characterForm1/setPlayerName",e.target.value),E=(0,i.Fl)((()=>a.getters["characterForm1/alignment"])),C=e=>a.commit("characterForm1/setAlignment",e.target.value);return(e,t)=>((0,i.wg)(),(0,i.iD)("form",{onSubmit:(0,s.iM)(r,["prevent"])},[(0,i._)("div",c,[u,(0,i._)("input",{class:"form-control",type:"text",id:"characterName",name:"characterName",onInput:f,value:l.value},null,40,m)]),(0,i._)("div",d,[p,(0,i._)("input",{class:"form-control",type:"text",id:"playerName",name:"playerName",onInput:I,value:_.value},null,40,v)]),(0,i._)("div",h,[g,(0,i._)("select",{class:"form-select",name:"alignment",id:"alignment",onChange:C,value:E.value},b,40,S)]),y],32))}};const I=_;var E=I;const C="abilities",A="attributes",T="subRace",w="skills",N="features",k="languages",R="spells",D="masterings",F="items",x="saves",O={CA:"ca",INIT:"init",SPEED:"speed",LIFE:"life",TEMP_LIFE:"tempLife",LIFE_DICE:"hitDice",BONUS_MAITRISE:"masteringBonus"},U={FOR:"str",DEX:"dex",CON:"con",INT:"int",SAG:"wis",CHA:"cha"},L={CA:"ca",INIT:"init",SPEED:"speed",LIFE:"life",TEMP_LIFE:"tempLife",HIT_DICE:"hitDice"},K={ACROBATICS:"acrobatics",ANIMAL_HANDLING:"animal_handling",ARCANA:"arcana",ATHLETICS:"athletics",DECEPTION:"deception",HISTORY:"history",INSIGHT:"insight",INTIMIDATION:"intimidation",INVESTIGATION:"investigation",MEDICINE:"medicine",NATURE:"nature",PERCEPTION:"perception",PERFORMANCE:"performance",PERSUASION:"persuasion",RELIGION:"religion",SLEIGHT_OF_HAND:"sleight_of_hand",STEALTH:"stealth",SURVIVAL:"survival"},q={[K.ACROBATICS]:"dex",[K.ANIMAL_HANDLING]:"wis",[K.ARCANA]:"int",[K.ATHLETICS]:"str",[K.DECEPTION]:"cha",[K.HISTORY]:"int",[K.INSIGHT]:"wis",[K.INTIMIDATION]:"cha",[K.INVESTIGATION]:"int",[K.MEDICINE]:"wis",[K.NATURE]:"int",[K.PERCEPTION]:"wis",[K.PERFORMANCE]:"cha",[K.PERSUASION]:"cha",[K.RELIGION]:"int",[K.SLEIGHT_OF_HAND]:"dex",[K.STEALTH]:"dex",[K.SURVIVAL]:"wis"};var H={CARACTERISTICS_KEY:C,ATTRIBUTES_KEY:A,CARACTERISTICS:U,ATTRIBUTES:L,SUB_RACE_KEY:T,SKILLS_KEY:w,ATTRIBUTES_KEYS:O,TRAITS_KEY:N,LANGUAGES_KEY:k,SPELLS_KEY:R,MAITRISES_KEY:D,ITEMS_KEY:F,SAVE_KEY:x,SKILLS:K,SKILLS_ABILITIES:q},B=JSON.parse('{"acrobatics":{"name":"Acrobaties","caracteristic":"dex"},"animal_handling":{"name":"Dressage","caracteristic":"wis"},"arcana":{"name":"Arcanes","caracteristic":"int"},"athletics":{"name":"Athlétisme","caracteristic":"str"},"deception":{"name":"Tromperie","caracteristic":"cha"},"history":{"name":"Histoire","caracteristic":"int"},"insight":{"name":"Intuition","caracteristic":"wis"},"intimidation":{"name":"Intimidation","caracteristic":"cha"},"investigation":{"name":"Investigation","caracteristic":"int"},"medicine":{"name":"Médecine","caracteristic":"wis"},"nature":{"name":"Nature","caracteristic":"int"},"perception":{"name":"Perception","caracteristic":"wis"},"performance":{"name":"Performance","caracteristic":"cha"},"persuasion":{"name":"Persuasion","caracteristic":"cha"},"religion":{"name":"Religion","caracteristic":"int"},"sleight_of_hand":{"name":"Prestidigitation","caracteristic":"dex"},"stealth":{"name":"Discrétion","caracteristic":"dex"},"survival":{"name":"Survie","caracteristic":"wis"}}');function Y(){return B}function J(e){let t=Object.entries(B).find((t=>(console.log("getSkillIdByName",t),t[1].name==e)));return t[0]}function z(e){return B[e].caracteristic}var M={getSkills:Y,getSkillIdByName:J,getCaracteristic:z},P=JSON.parse('{"name":"classes","elements":[{"key":"barbare","name":"Barbare","masterings":[{"name":"Armure légère"},{"name":"Armure intermédiaire"},{"name":"Bouclier"},{"name":"Armes courantes"},{"name":"Armes de guerres"}],"attributes":[{"name":"life","quantity":12},{"name":"hitDice","quantity":12},{"name":"masteringBonus","quantity":2}],"saves":[{"name":"strength"},{"name":"constitution"}],"features":[{"name":"Rage"},{"name":"Défense sans armure"}],"choices":{"skills":[{"id":1,"values":[{"name":"athletics","quantity":1},{"name":"animal_handling","quantity":1},{"name":"intimidation","quantity":1},{"name":"nature","quantity":1},{"name":"perception","quantity":1},{"name":"survival","quantity":1}],"number":2}],"items":[{"id":1,"values":[{"name":"Hache à deux mains"},{"name":"Arme de guerre au CàC au choix"}],"number":1},{"id":2,"values":[{"name":"Hachette x2"},{"name":"Arme courante au choix"}],"number":1},{"id":3,"values":[{"name":"Kit d\'explorateur"},{"name":"Javeline x4"}],"number":1}]}},{"key":"barde","name":"Barde","attributes":[{"name":"pv","quantity":8},{"name":"hitDice","quantity":8},{"name":"masteringBonus","quantity":2}],"masterings":[{"name":"Armure légère"},{"name":"Armes courantes"},{"name":"Arbalète de poing"},{"name":"Epée longue"},{"name":"Rapière"}],"saves":[{"name":"dexterity"},{"name":"charisma"}],"items":[{"name":"Armure de cuire"},{"name":"Dague"}],"choices":{"skills":[{"id":1,"values":[{"name":"acrobatics","quantity":1},{"name":"animal_handling","quantity":1},{"name":"arcana","quantity":1},{"name":"athletics","quantity":1},{"name":"deception","quantity":1},{"name":"history","quantity":1},{"name":"insight","quantity":1},{"name":"intimidation","quantity":1},{"name":"investigation","quantity":1},{"name":"medicine","quantity":1},{"name":"nature","quantity":1},{"name":"perception","quantity":1},{"name":"performance","quantity":1},{"name":"performance","quantity":1},{"name":"persuasion","quantity":1},{"name":"religion","quantity":1},{"name":"sleight_of_hand","quantity":1},{"name":"stealth","quantity":1},{"name":"survival","quantity":1}],"number":3}],"items":[{"id":1,"values":[{"name":"Rapière"},{"name":"Epée longue"},{"name":"Arme courante au choix"}],"number":1},{"id":2,"values":[{"name":"Kit de diplomate"},{"name":"Kit d\'artiste"}],"number":1},{"id":3,"values":[{"name":"Luth"},{"name":"Autre instrument de musique"}],"number":1}]}}]}');const G={ADD:"add",SUB:"sub"};class j{constructor(e){this.name=e}}class Z{constructor(e,t){this.name=e,this.quantity=t}}class V{constructor(e,t,a){this.id=e,this.values=t,this.number=a}}class ${constructor(e,t,a,s,i){this.skills=e,this.items=t,this.subClass=a,this.languages=s,this.subRace=i}getBlanked(){return new $(this.skills.map((e=>new V(e.id,[],e.number))),this.items.map((e=>new V(e.id,[],e.number))),this.subClass.map((e=>new V(e.id,[],e.number))),this.languages.map((e=>new V(e.id,[],e.number))),this.subRace.map((e=>new V(e.id,[],e.number))))}digest(e,t){for(let a in this)for(let s in this[a]){const i=this[a][s].values;i.length>0&&i[0]instanceof j&&(t===G.ADD?e.commit("characterState/addElements",{property:a,items:i},{root:!0}):t===G.SUB&&e.commit("characterState/subElements",{property:a,items:i},{root:!0})),i.length>0&&i[0]instanceof Z&&(t===G.ADD?e.commit("characterState/addQuantities",{property:a,items:i},{root:!0}):t===G.SUB&&e.commit("characterState/subQuantities",{property:a,items:i},{root:!0})),i.length>0&&i[0]instanceof Q&&(t===G.ADD?i.forEach((t=>t.digest(e,G.ADD))):t===G.SUB&&i.forEach((t=>t.digest(e,G.SUB))))}}static fromJson(e){const t="skills"in e?e.skills.map((e=>new V(e.id,e.values.map((e=>new Z(e.name,e.quantity))),e.number))):[],a="items"in e?e.items.map((e=>new V(e.id,e.values.map((e=>new j(e.name))),e.number))):[],s="subClass"in e?e.subClass.map((e=>new V(e.id,e.values.map((e=>new j(e.name))),e.number))):[],i="languages"in e?e.languages.map((e=>new V(e.id,e.values.map((e=>new j(e.name))),e.number))):[],n="subRace"in e?e.subRace.map((e=>new V(e.id,e.values.map((e=>te.fromJson(e))),e.number))):[];return new $(t,a,s,i,n)}}class Q{constructor(e,t,a,s,i,n,r,l,o,c,u){this.key=e,this.name=t,this.attributes=a,this.masterings=s,this.saves=i,this.features=n,this.items=r,this.skills=l,this.choices=o,this.abilities=c,this.spells=u}digest(e,t){for(let a in this)this[a]instanceof j&&(t===G.ADD?e.commit("characterState/addElements",{property:a,items:[this[a]]},{root:!0}):t===G.SUB&&e.commit("characterState/subElements",{property:a,items:[this[a]]},{root:!0})),this[a]instanceof Z&&(t===G.ADD?e.commit("characterState/addQuantities",{property:a,items:[this[a]]},{root:!0}):t===G.SUB&&e.commit("characterState/subQuantities",{property:a,items:[this[a]]},{root:!0})),Array.isArray(this[a])&&this[a].length>0&&this[a][0]instanceof j&&(t===G.ADD?e.commit("characterState/addElements",{property:a,items:this[a]},{root:!0}):t===G.SUB&&e.commit("characterState/subElements",{property:a,items:this[a]},{root:!0})),Array.isArray(this[a])&&this[a].length>0&&this[a][0]instanceof Z&&(t===G.ADD?e.commit("characterState/addQuantities",{property:a,items:this[a]},{root:!0}):t===G.SUB&&e.commit("characterState/subQuantities",{property:a,items:this[a]},{root:!0}))}static fromJson(e,t){const a="attributes"in e?e.attributes.map((e=>new Z(e.name,e.quantity))):[],s="masterings"in e?e.masterings.map((e=>new j(e.name))):[],i="saves"in e?e.saves.map((e=>new j(e.name))):[],n="features"in e?e.features.map((e=>new j(e.name))):[],r="items"in e?e.items.map((e=>new j(e.name))):[],l="skills"in e?e.skills.map((e=>new Z(e.name,e.quantity))):[],o="choices"in e?$.fromJson(e.choices):new $([],[],[],[],[]),c="abilities"in e?e.abilities.map((e=>new Z(e.name,e.quantity))):[],u="spells"in e?e.spells.map((e=>new j(e.name))):[];return Object.assign(new t,{key:e.key,name:e.name,attributes:a,masterings:s,saves:i,features:n,items:r,skills:l,choices:o,abilities:c,spells:u})}}class W extends Q{static fromJson(e){return Q.fromJson(e,W)}}class X extends Q{static fromJson(e){return Q.fromJson(e,X)}}class ee extends Q{static fromJson(e){return Q.fromJson(e,ee)}}class te extends Q{static fromJson(e){return Q.fromJson(e,ee)}}class ae{constructor(e){this.elements=e}static fromJson(e,t){return new ae(e.elements.map((e=>t.fromJson(e))))}}class se extends ae{static fromJson(e){return ae.fromJson(e,W)}}class ie extends ae{static fromJson(e){return ae.fromJson(e,X)}}class ne extends ae{static fromJson(e){return ae.fromJson(e,ee)}}class re{constructor(e,t,a){this.mode=e,this.results=t,this.map=a}}const le=ie.fromJson(P)["elements"];var oe=JSON.parse('{"name":"races","elements":[{"key":"elfe","name":"Elfe","attributes":[{"name":"speed","quantity":9}],"skills":[{"name":"perception","quantity":1}],"abilities":[{"name":"dex","quantity":2}],"features":[{"name":"Vision dans le noir"},{"name":"Ascendance féerique"},{"name":"Transe"}],"languages":[{"name":"Elfe"},{"name":"Commun"}],"choices":{"subRace":[{"id":1,"values":[{"key":"hautElfe","name":"hautElfe","abilities":[{"name":"int","quantity":1}],"masterings":[{"name":"Epée longue"},{"name":"Epée courte"},{"name":"Arc long"},{"name":"Arc court"}]},{"key":"elfeDesBois","name":"Elfe des bois","abilities":[{"name":"wis","quantity":1}],"masterings":[{"name":"Epée longue"},{"name":"Epée courte"},{"name":"Arc long"},{"name":"Arc court"}],"spells":[{"name":"Cachette naturelle"}]},{"key":"elfeNoir","name":"Elfe noir","abilities":[{"name":"cha","quantity":1}],"features":[{"name":"Vision dans le noir supérieure"},{"name":"Sensibilité au soleil"}],"spells":[{"name":"Lumière dansante"}],"masterings":[{"name":"Rapière"},{"name":"Epée courte"},{"name":"Arbalète de poing"}]}],"number":1}]}},{"key":"halfelin","name":"Halfelin","attributes":[{"name":"speed","quantity":7.5}],"abilities":[{"name":"dex","quantity":2}],"languages":[{"name":"Halfelin"},{"name":"Commun"}],"features":[{"name":"Chanceux"},{"name":"Brave"},{"name":"Agilité halfeline"}],"choices":{"subRace":[{"id":1,"values":[{"key":"piedsLegers","name":"Pieds-légers","abilities":[{"name":"cha","quantity":1}],"features":[{"name":"Discrétion naturelle"}]},{"key":"robuste","name":"Robuste","abilities":[{"name":"con","quantity":1}],"features":[{"name":"Résistance des robustes"}]}],"number":1}]}}]}');const ce=ne.fromJson(oe)["elements"];function ue(e){const t=Math.floor((e-10)/2);return t}function me(e,t){const a=Math.floor((e-10)/2);return a+t}function de(e,t){const a=Math.floor((e-10)/2);return a+2*t}function pe(e,t,a,s){const i=t[e];return 1===s?me(i,a):2===s?de(i,a):ue(i)}function ve(e,t,a){let s={};for(let i in e){const n=H.SKILLS_ABILITIES[i],r=pe(n,t,a,e[i]);1==e[i]?s[i]=`☆ (${r})`:2==e[i]?s[i]=`★ (${r})`:e[i]>2?s[i]=`⍟ (${r})`:s[i]=`(${r})`}return s}const he={class:"container mt-3"},ge={class:"row"},Se={class:"col-xxl"},fe={class:"input-group mb-3"},be=(0,i._)("span",{class:"input-group-text",id:"inputGroup-sizing-default"},"Nom du personnage",-1),ye=["placeholder"],_e={class:"col-xl"},Ie={class:"input-group mb-3"},Ee=(0,i._)("span",{class:"input-group-text",id:"inputGroup-sizing-default"},"Nom du joueur",-1),Ce=["placeholder"],Ae={class:"row"},Te={class:"col-xxl-md"},we={class:"input-group mb-3"},Ne=(0,i._)("span",{class:"input-group-text",id:"inputGroup-sizing-default"},"Race",-1),ke=["placeholder"],Re={class:"col-xxl-md"},De={class:"input-group mb-3"},Fe=(0,i._)("span",{class:"input-group-text",id:"inputGroup-sizing-default"},"Classe",-1),xe=["placeholder"],Oe={class:"row"},Ue={class:"col-md"},Le={class:"input-group mb-3"},Ke=(0,i._)("span",{class:"input-group-text",id:"inputGroup-sizing-default"},"Alignement",-1),qe=["placeholder"],He={class:"col-xl"},Be={class:"input-group mb-3"},Ye=(0,i._)("span",{class:"input-group-text",id:"inputGroup-sizing-default"},"Histoire",-1),Je=["placeholder"],ze={class:"row"},Me={class:"col"},Pe={class:"card border-dark mb-3"},Ge=(0,i._)("div",{class:"card-header"},"Caractéristiques",-1),je={class:"card-body"},Ze={class:"card-text"},Ve={class:"card border-dark mb-3"},$e=(0,i._)("div",{class:"card-header"},"Bonus",-1),Qe={class:"card-body"},We={class:"card-text"},Xe=(0,i._)("p",{class:"text-secondary"},"Inspiration",-1),et={class:"card border-dark mb-3"},tt=(0,i._)("div",{class:"card-header"},"Attributs",-1),at={class:"card-body"},st={class:"card-text"},it=(0,i._)("p",{class:"text-secondary"},"Point de vie temporaire",-1),nt={class:"col"},rt={class:"card border-dark mb-3"},lt=(0,i._)("div",{class:"card-header"},"Compétences",-1),ot={class:"card-body"},ct={class:"card-text"},ut={class:"row mb-3"},mt={class:"col"},dt={class:"list-group"},pt=(0,i._)("li",{class:"list-group-item list-group-item-dark active"},"Equipements",-1),vt={class:"row mb-3"},ht={class:"col"},gt={class:"list-group"},St=(0,i._)("li",{class:"list-group-item list-group-item-dark active"},"Sorts",-1),ft={class:"row mb-3"},bt={class:"col"},yt={class:"list-group"},_t=(0,i._)("li",{class:"list-group-item list-group-item-dark active"},"Capacités",-1),It={class:"row mb-3"},Et={class:"col"},Ct={class:"list-group"},At=(0,i._)("li",{class:"list-group-item list-group-item-dark active"},"Langues",-1);var Tt={__name:"CharacterFile",setup(e){const t=(0,o.oR)(),a=(0,i.Fl)((()=>t.getters["form4/name"])),s=(0,i.Fl)((()=>t.getters["characterForm1/characterName"])),l=(0,i.Fl)((()=>t.getters["form2/raceState"])),c=(0,i.Fl)((()=>{if("default"===l.value.key)return"";console.log(l.value);const e=ce.find((e=>e.key==l.value.key)).name,t=l.value.choices["subRace"].length>0&&l.value.choices["subRace"][0].values.length>0;if(t){const t=l.value.choices["subRace"][0].values[0].name;return`${e} (${t})`}return e}));function u(e){return Math.floor((e-10)/2)}const m=(0,i.Fl)((()=>t.getters["characterState/caracteristics"])),d=(0,i.Fl)((()=>{let e={};for(let t in m.value)e[t]=m.value[t]+" ("+u(m.value[t])+")";return e})),p=(0,i.Fl)((()=>t.getters["characterState/attributs"])),v=M.getSkills(),h=(0,i.Fl)((()=>t.getters["characterState/skills"])),g=(0,i.Fl)((()=>ve(h.value,m.value,p.value[H.ATTRIBUTES_KEYS.BONUS_MAITRISE]))),S=(0,i.Fl)((()=>t.getters["characterState/items"])),f=(0,i.Fl)((()=>t.getters["characterState/spells"])),b=(0,i.Fl)((()=>t.getters["characterState/capacities"])),y=(0,i.Fl)((()=>t.getters["form2/classState"])),_=(0,i.Fl)((()=>{if("default"===y.value.key)return"";const e=le.find((e=>e.key==y.value.key)).name,t=y.value.choices["subClass"].length>0;if(t){const t=y.value.choices["subClass"][0].name;return`${e} ${t}`}return e})),I=(0,i.Fl)((()=>t.getters["characterState/languages"])),E=(0,i.Fl)((()=>10)),C=(0,i.Fl)((()=>u(m.value["dex"])));return(e,l)=>((0,i.wg)(),(0,i.iD)("div",he,[(0,i._)("div",ge,[(0,i._)("div",Se,[(0,i._)("div",fe,[be,(0,i._)("input",{disabled:"",placeholder:s.value,type:"text",class:"form-control","aria-label":"Sizing example input","aria-describedby":"inputGroup-sizing-default"},null,8,ye)])]),(0,i._)("div",_e,[(0,i._)("div",Ie,[Ee,(0,i._)("input",{disabled:"",placeholder:(0,r.SU)(t).getters["characterForm1/playerName"],type:"text",class:"form-control","aria-label":"Sizing example input","aria-describedby":"inputGroup-sizing-default"},null,8,Ce)])])]),(0,i._)("div",Ae,[(0,i._)("div",Te,[(0,i._)("div",we,[Ne,(0,i._)("input",{disabled:"",placeholder:c.value,type:"text",class:"form-control","aria-label":"Sizing example input","aria-describedby":"inputGroup-sizing-default"},null,8,ke)])]),(0,i._)("div",Re,[(0,i._)("div",De,[Fe,(0,i._)("input",{disabled:"",placeholder:_.value,type:"text",class:"form-control","aria-label":"Sizing example input","aria-describedby":"inputGroup-sizing-default"},null,8,xe)])])]),(0,i._)("div",Oe,[(0,i._)("div",Ue,[(0,i._)("div",Le,[Ke,(0,i._)("input",{disabled:"",placeholder:(0,r.SU)(t).getters["characterForm1/alignment"],type:"text",class:"form-control","aria-label":"Sizing example input","aria-describedby":"inputGroup-sizing-default"},null,8,qe)])]),(0,i._)("div",He,[(0,i._)("div",Be,[Ye,(0,i._)("input",{disabled:"",placeholder:a.value,type:"text",class:"form-control","aria-label":"Sizing example input","aria-describedby":"inputGroup-sizing-default"},null,8,Je)])])]),(0,i._)("div",ze,[(0,i._)("div",Me,[(0,i._)("div",Pe,[Ge,(0,i._)("div",je,[(0,i._)("div",Ze,[(0,i._)("p",null,[(0,i.Uk)("Force "),(0,i._)("span",null,(0,n.zw)(d.value[(0,r.SU)(H).CARACTERISTICS.FOR]),1)]),(0,i._)("p",null,[(0,i.Uk)("Dextérité "),(0,i._)("span",null,(0,n.zw)(d.value[(0,r.SU)(H).CARACTERISTICS.DEX]),1)]),(0,i._)("p",null,[(0,i.Uk)("Constitution "),(0,i._)("span",null,(0,n.zw)(d.value[(0,r.SU)(H).CARACTERISTICS.CON]),1)]),(0,i._)("p",null,[(0,i.Uk)("Intelligence "),(0,i._)("span",null,(0,n.zw)(d.value[(0,r.SU)(H).CARACTERISTICS.INT]),1)]),(0,i._)("p",null,[(0,i.Uk)("Sagesse "),(0,i._)("span",null,(0,n.zw)(d.value[(0,r.SU)(H).CARACTERISTICS.SAG]),1)]),(0,i._)("p",null,[(0,i.Uk)("Charisme "),(0,i._)("span",null,(0,n.zw)(d.value[(0,r.SU)(H).CARACTERISTICS.CHA]),1)])])])]),(0,i._)("div",Ve,[$e,(0,i._)("div",Qe,[(0,i._)("div",We,[(0,i._)("p",null,[(0,i.Uk)("Maitrise "),(0,i._)("span",null,(0,n.zw)(p.value[(0,r.SU)(H).ATTRIBUTES_KEYS.BONUS_MAITRISE]),1)]),(0,i._)("p",null,[(0,i.Uk)("Perception passive "),(0,i._)("span",null,(0,n.zw)(E.value),1)]),Xe])])]),(0,i._)("div",et,[tt,(0,i._)("div",at,[(0,i._)("div",st,[(0,i._)("p",null,[(0,i.Uk)("Classe d'armure "),(0,i._)("span",null,(0,n.zw)(p.value[(0,r.SU)(H).ATTRIBUTES_KEYS.CA]),1)]),(0,i._)("p",null,[(0,i.Uk)("Initiative "),(0,i._)("span",null,(0,n.zw)(C.value),1)]),(0,i._)("p",null,[(0,i.Uk)("Vitesse "),(0,i._)("span",null,(0,n.zw)(p.value[(0,r.SU)(H).ATTRIBUTES_KEYS.SPEED]),1)]),(0,i._)("p",null,[(0,i.Uk)("Point de vie "),(0,i._)("span",null,(0,n.zw)(p.value[(0,r.SU)(H).ATTRIBUTES_KEYS.LIFE]),1)]),it,(0,i._)("p",null,[(0,i.Uk)("Dé de vie "),(0,i._)("span",null,(0,n.zw)(p.value[(0,r.SU)(H).ATTRIBUTES_KEYS.LIFE_DICE]),1)])])])])]),(0,i._)("div",nt,[(0,i._)("div",rt,[lt,(0,i._)("div",ot,[(0,i._)("div",ct,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)((0,r.SU)(v),((e,t,a)=>((0,i.wg)(),(0,i.iD)("p",{key:a},[(0,i.Uk)((0,n.zw)(e["name"])+" ",1),(0,i._)("span",null,(0,n.zw)(g.value[t]),1)])))),128))])])])])]),(0,i._)("div",ut,[(0,i._)("div",mt,[(0,i._)("ul",dt,[pt,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(S.value,((e,t)=>((0,i.wg)(),(0,i.iD)("li",{class:"list-group-item",key:t},(0,n.zw)(e),1)))),128))])])]),(0,i._)("div",vt,[(0,i._)("div",ht,[(0,i._)("ul",gt,[St,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(f.value,((e,t)=>((0,i.wg)(),(0,i.iD)("li",{class:"list-group-item",key:t},(0,n.zw)(e),1)))),128))])])]),(0,i._)("div",ft,[(0,i._)("div",bt,[(0,i._)("ul",yt,[_t,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(b.value,((e,t)=>((0,i.wg)(),(0,i.iD)("li",{class:"list-group-item",key:t},(0,n.zw)(e),1)))),128))])])]),(0,i._)("div",It,[(0,i._)("div",Et,[(0,i._)("ul",Ct,[At,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(I.value,((e,t)=>((0,i.wg)(),(0,i.iD)("li",{class:"list-group-item",key:t},(0,n.zw)(e),1)))),128))])])])]))}};const wt=Tt;var Nt=wt;const kt={class:"my-3 bg-light border rounded border-primary pt-3 px-3"},Rt={class:"fs-6"},Dt={class:"form-label me-3",for:"characterName"},Ft={class:"badge rounded-pill text-bg-primary"},xt=["onUpdate:modelValue","onChange","value"],Ot={for:""};var Ut={__name:"SubChoice",props:["choices","state"],emits:["update:choices"],setup(e,{emit:t}){(0,o.oR)();const a=e,l=(0,r.iH)(a.choices);console.log("CHOICES",a.choices);const c=(0,i.Fl)((()=>{const e={};for(const t in l.value)Array.isArray(l.value[t])&&l.value[t].length>0?e[t]=l.value[t]:console.log("Remove",t,"from",l.value);return e}));console.log("NON-EMPTY CHOICES",c.value);const u=t,m=(0,r.iH)(a.state);console.log("STATE",m.value);const d=(0,r.iH)(JSON.parse(JSON.stringify(m.value))),p=e=>{e.values.length>e.number&&e.values.pop(),console.log("CHECKLIMT 1",d.value);const t=$.fromJson(JSON.parse(JSON.stringify(d.value)));console.log("CHECKLIMT 2",t),u("update:choices",t)};return(e,t)=>((0,i.wg)(),(0,i.iD)("div",kt,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(c.value,((e,t,a)=>((0,i.wg)(),(0,i.iD)("div",{class:"mb-3 border-start border-primary border-2 ps-3",key:a},[(0,i._)("h3",Rt," Choix des "+(0,n.zw)(t),1),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e,((e,a)=>((0,i.wg)(),(0,i.iD)("div",{key:`sub-${a}`},[(0,i._)("label",Dt,[(0,i._)("span",Ft,(0,n.zw)(e.number-d.value[t].find((t=>t.id==e.id)).values.length),1)]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.values,((a,l)=>((0,i.wg)(),(0,i.iD)("div",{class:"form-check form-check-inline",key:l},[(0,i.wy)((0,i._)("input",{class:"form-check-input",type:"checkbox",name:"",id:"","onUpdate:modelValue":a=>d.value[t].filter((t=>t.id==e.id))[0].values=a,onChange:a=>p(d.value[t].find((t=>t.id==e.id))),value:(0,r.IU)(a)},null,40,xt),[[s.e8,d.value[t].filter((t=>t.id==e.id))[0].values]]),(0,i._)("label",Ot,(0,n.zw)(a.name),1)])))),128))])))),128))])))),128))]))}};const Lt=Ut;var Kt=Lt;const qt={class:"row mt-3"};var Ht={__name:"FormController",emits:["next","previous"],setup(e,{emit:t}){const a=t,s=()=>a("next"),n=()=>a("previous");return(e,t)=>((0,i.wg)(),(0,i.iD)("div",qt,[(0,i._)("div",{class:"col d-flex justify-content-start"},[(0,i._)("button",{class:"btn btn-secondary",onClick:n},"Précédent")]),(0,i._)("div",{class:"col d-flex justify-content-end"},[(0,i._)("button",{class:"btn btn-primary",onClick:s},"Suivant")])]))}};const Bt=Ht;var Yt=Bt;const Jt={class:"mb-3"},zt=(0,i._)("label",{class:"form-label",for:"characterName"},"Selection de la race",-1),Mt=(0,i._)("option",{id:"option-default",value:""},"-",-1),Pt=["selected","id","value"],Gt={class:"mb-3"},jt=(0,i._)("label",{class:"form-label",for:"characterName"},"Selection de la classe",-1),Zt=(0,i._)("option",{id:"option-default",value:""},"-",-1),Vt=["selected","id","value"];var $t={__name:"CharacterForm2",emits:["next","previous"],setup(e,{emit:t}){const a=t,s=(0,o.oR)(),l=(0,i.Fl)((()=>s.getters["form2/raceState"])),c=(0,i.Fl)((()=>(console.log("isRaceSubChoicesDisplayed",l.value.choices),"default"!=l.value.key&&Object.values(l.value.choices).find((e=>e.length>0))))),u=()=>{const e=ce.find((e=>e.key==l.value.key)),t=e?ce.find((e=>e.key==l.value.key)).choices:[];return t},m=e=>{s.dispatch("form2/updateRace",e.target.options[e.target.options.selectedIndex].id.split("-")[1])},d=e=>{s.dispatch("form2/updateRaceChoices",e)},p=(0,i.Fl)((()=>s.getters["form2/classState"])),v=(0,i.Fl)((()=>(console.log("isClassesubChoicesDisplayed",p.value.key),"default"!=p.value.key&&Object.values(p.value.choices).find((e=>e.length>0))))),h=()=>{const e=le.find((e=>e.key==p.value.key))?le.find((e=>e.key==p.value.key)).choices:[];return e},g=e=>{s.dispatch("form2/updateClass",e.target.options[e.target.options.selectedIndex].id.split("-")[1])},S=e=>{s.dispatch("form2/updateClassChoices",e)};return(e,t)=>((0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",Jt,[zt,(0,i._)("select",{class:"form-select",onInput:m},[Mt,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)((0,r.SU)(ce),((e,t)=>((0,i.wg)(),(0,i.iD)("option",{selected:e["key"]==l.value.key,id:`option-${e["key"]}`,key:t,value:e["name"]},(0,n.zw)(e["name"]),9,Pt)))),128))],32)]),(0,i._)("div",null,[c.value?((0,i.wg)(),(0,i.j4)(Kt,{choices:u(),key:l.value.key,state:l.value.choices,"onUpdate:choices":d},null,8,["choices","state"])):(0,i.kq)("",!0)]),(0,i._)("div",Gt,[jt,(0,i._)("select",{class:"form-select",onInput:g},[Zt,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)((0,r.SU)(le),((e,t)=>((0,i.wg)(),(0,i.iD)("option",{selected:e["key"]==p.value.key,id:`option-${e["key"]}`,key:t,value:e["name"]},(0,n.zw)(e["name"]),9,Vt)))),128))],32)]),(0,i._)("div",null,[v.value?((0,i.wg)(),(0,i.j4)(Kt,{choices:h(),key:p.value.key,state:p.value.choices,"onUpdate:choices":S},null,8,["choices","state"])):(0,i.kq)("",!0)]),(0,i.Wm)(Yt,{onNext:t[0]||(t[0]=e=>a("next")),onPrevious:t[1]||(t[1]=e=>a("previous"))})],64))}};const Qt=$t;var Wt=Qt,Xt=a(680);const ea=()=>{let e=Xt.Z.get("characterForm1")?JSON.parse(Xt.Z.get("characterForm1")):{characterName:"",playerName:"",alignment:""};return{characterName:e.characterName,playerName:e.playerName,alignment:e.alignment}},ta={characterName:e=>e.characterName,playerName:e=>e.playerName,alignment:e=>e.alignment},aa={setCharacterName(e,t){e.characterName=t,Xt.Z.set("characterForm1",JSON.stringify(e))},setPlayerName(e,t){e.playerName=t,Xt.Z.set("characterForm1",JSON.stringify(e))},setAlignment(e,t){e.alignment=t,Xt.Z.set("characterForm1",JSON.stringify(e))}};var sa={namespaced:!0,state:ea,getters:ta,mutations:aa};const ia=()=>{let e=Xt.Z.get("characterForm2")?JSON.parse(Xt.Z.get("characterForm2")):{raceState:{key:"default",choices:{}},classState:{key:"default",choices:[]}};return{raceState:e.raceState,classState:e.classState}},na={raceState:e=>e.raceState,classState:e=>e.classState},ra={setRaceStateKey:(e,t)=>{e.raceState.key=t,Xt.Z.set("characterForm2",JSON.stringify(e))},setRaceStateChoices:(e,t)=>{e.raceState.choices=t,Xt.Z.set("characterForm2",JSON.stringify(e))},setClassStateKey:(e,t)=>{e.classState.key=t,Xt.Z.set("characterForm2",JSON.stringify(e))},setClassStateChoices:(e,t)=>{e.classState.choices=t,Xt.Z.set("characterForm2",JSON.stringify(e))}},la={updateRace:(e,t)=>{const a=ce,s=e.getters["raceState"].key,i="setRaceStateKey",n="updateRaceChoices",r=a.find((e=>e.key===s)),l=a.find((e=>e.key===t));if(r instanceof ee&&r.digest(e,G.SUB),l instanceof ee&&l.digest(e,G.ADD),e.commit(i,t),"default"!=t){const t=l.choices.getBlanked();e.dispatch(n,t)}else e.dispatch(n,{})},updateRaceChoices:(e,t)=>{const a="raceState",s="setRaceStateChoices",i=e.getters[a].choices;i instanceof $&&i.digest(e,G.SUB),t instanceof $&&t.digest(e,G.ADD),e.commit(s,t)},updateClass:(e,t)=>{const a=le,s=e.getters["classState"].key,i="setClassStateKey",n="updateClassChoices",r=a.find((e=>e.key===s)),l=a.find((e=>e.key===t));if(r instanceof X&&r.digest(e,G.SUB),l instanceof X&&l.digest(e,G.ADD),e.commit(i,t),"default"!=t){const t=l.choices.getBlanked();e.dispatch(n,t)}else e.dispatch(n,{})},updateClassChoices:(e,t)=>{const a="classState",s="setClassStateChoices",i=e.getters[a].choices;i instanceof $&&i.digest(e,G.SUB),t instanceof $&&t.digest(e,G.ADD),e.commit(s,t)}};var oa={namespaced:!0,state:ia,getters:na,mutations:ra,actions:la};const ca=()=>{let e=Xt.Z.get("characterState")?JSON.parse(Xt.Z.get("characterState")):{[H.CARACTERISTICS_KEY]:{[H.CARACTERISTICS.FOR]:0,[H.CARACTERISTICS.DEX]:0,[H.CARACTERISTICS.CON]:0,[H.CARACTERISTICS.INT]:0,[H.CARACTERISTICS.SAG]:0,[H.CARACTERISTICS.CHA]:0},[H.SKILLS_KEY]:{[H.SKILLS.ACROBATICS]:0,[H.SKILLS.ANIMAL_HANDLING]:0,[H.SKILLS.ARCANA]:0,[H.SKILLS.ATHLETICS]:0,[H.SKILLS.DECEPTION]:0,[H.SKILLS.HISTORY]:0,[H.SKILLS.INSIGHT]:0,[H.SKILLS.INTIMIDATION]:0,[H.SKILLS.INVESTIGATION]:0,[H.SKILLS.MEDICINE]:0,[H.SKILLS.NATURE]:0,[H.SKILLS.PERCEPTION]:0,[H.SKILLS.PERFORMANCE]:0,[H.SKILLS.PERSUASION]:0,[H.SKILLS.RELIGION]:0,[H.SKILLS.SLEIGHT_OF_HAND]:0,[H.SKILLS.STEALTH]:0,[H.SKILLS.SURVIVAL]:0},[H.ATTRIBUTES_KEY]:{[H.ATTRIBUTES_KEYS.CA]:0,[H.ATTRIBUTES_KEYS.INIT]:0,[H.ATTRIBUTES_KEYS.SPEED]:0,[H.ATTRIBUTES_KEYS.LIFE]:0,[H.ATTRIBUTES_KEYS.TEMP_LIFE]:0,[H.ATTRIBUTES_KEYS.LIFE_DICE]:0,[H.ATTRIBUTES_KEYS.BONUS_MAITRISE]:0},[H.ITEMS_KEY]:[],[H.SPELLS_KEY]:[],[H.TRAITS_KEY]:[],[H.MAITRISES_KEY]:[],[H.SAVE_KEY]:[],[H.LANGUAGES_KEY]:[],sub_class:[],step:0};return e},ua={state:e=>e,caracteristics:e=>e[H.CARACTERISTICS_KEY],skills:e=>e[H.SKILLS_KEY],attributs:e=>e[H.ATTRIBUTES_KEY],items:e=>e.items,spells:e=>e.spells,capacities:e=>e[H.TRAITS_KEY],maitrises:e=>e.maitrises,sauvegardes:e=>e.sauvegardes,languages:e=>e.languages,step:e=>e.step},ma={addQuantities(e,t){t.property in e?(console.log("addQuantities",t.property,t.items),t.items.forEach((a=>{e[t.property][a.name]+=a.quantity})),Xt.Z.set("characterState",JSON.stringify(e))):console.error(t.property,"not in state")},subQuantities(e,t){t.property in e?(console.log("subQuantities",t.property,t.items),t.items.forEach((a=>{e[t.property][a.name]-=a.quantity})),Xt.Z.set("characterState",JSON.stringify(e))):console.error(t.property,"not in state")},addElements(e,t){t.property in e?Array.isArray(e[t.property])?(console.log("addElements",t.property,t.items),t.items.forEach((a=>{e[t.property].push(a.name)})),Xt.Z.set("characterState",JSON.stringify(e))):console.error(t.property,"is not an array"):console.error(t.property,"not in state")},subElements(e,t){t.property in e?Array.isArray(e[t.property])?(t.items.forEach((a=>{e[t.property].splice(e[t.property].indexOf(a.name),1)})),Xt.Z.set("characterState",JSON.stringify(e))):console.error(t.property,"is not an array"):console.error(t.property,"not in state")},setStep(e,t){e.step=t,Xt.Z.set("characterState",JSON.stringify(e))}};var da={namespaced:!0,state:ca,getters:ua,mutations:ma},pa=JSON.parse('{"name":"backgrounds","elements":[{"key":"acolyte","name":"Acolyte","skills":[{"name":"insight","quantity":1},{"name":"religion","quantity":1}],"items":[{"name":"Symbole sacré"},{"name":"Livre de prières"},{"name":"5 bâtons d\'encens"},{"name":"Habits de cérémonie"},{"name":"Vêtements communs"},{"name":"Bourse contenant 15 po"}],"features":[{"name":"Abri du fidèle"}],"choices":{"languages":[{"id":1,"values":[{"name":"Commun"},{"name":"Elfique"},{"name":"Nain"},{"name":"Halfelin"},{"name":"Orc"}],"number":2}]}}]}');const va=se.fromJson(pa)["elements"],ha=()=>{let e=Xt.Z.get("characterForm4")?JSON.parse(Xt.Z.get("characterForm4")):{historicChoices:{name:"default",choices:{}}};return{historicChoices:e.historicChoices}},ga={historicChoices:e=>e.historicChoices,choices:e=>e.historicChoices.choices,name:e=>e.historicChoices.name},Sa={setHistoricChoicesName:(e,t)=>{e.historicChoices.name=t,Xt.Z.set("characterForm4",JSON.stringify(e))},setHistoricChoicesChoice:(e,t)=>{e.historicChoices.choices=t,Xt.Z.set("characterForm4",JSON.stringify(e))}},fa={updateHistoric:(e,t)=>{const a=va,s=a.find((t=>t.key===e.getters["name"]));console.log("UPDATEHISTORIC",s);const i=a.find((e=>e.key===t));if(s instanceof W&&s.digest(e,G.SUB),i instanceof W&&i.digest(e,G.ADD),e.commit("setHistoricChoicesName",t),console.log(t),"default"!=t){const t=i.choices.getBlanked();e.dispatch("updateHistoricChoices",t)}else e.dispatch("updateHistoricChoices",{})},updateHistoricChoices:(e,t)=>{e.getters["choices"]instanceof $&&e.getters["choices"].digest(e,G.SUB),t instanceof $&&t.digest(e,G.ADD),e.commit("setHistoricChoicesChoice",t)}};var ba={namespaced:!0,state:ha,getters:ga,mutations:Sa,actions:fa};const ya=()=>{let e=Xt.Z.get("characterForm3")?JSON.parse(Xt.Z.get("characterForm3")):new re("",[]);return{form3:e}},_a={form3:e=>e.form3},Ia={setForm3:(e,t)=>{e.form3=t,Xt.Z.set("characterForm3",JSON.stringify(e.form3))}},Ea={updateForm3:(e,t)=>{const a=e.getters["form3"];console.log("updateForm3",a,t);const s={property:H.CARACTERISTICS_KEY,items:Object.entries(a.results).map((([e,t])=>new Z(e,t)))};e.commit("characterState/subQuantities",s,{root:!0});const i={property:H.CARACTERISTICS_KEY,items:Object.entries(t.results).map((([e,t])=>new Z(e,t)))};e.commit("characterState/addQuantities",i,{root:!0}),e.commit("setForm3",t),console.log("updateForm3",i,s)}};var Ca={namespaced:!0,state:ya,getters:_a,mutations:Ia,actions:Ea},Aa=(0,o.MT)({modules:{characterForm1:sa,form2:oa,characterState:da,form4:ba,form3:Ca}});const Ta={class:"container border rounded border-primary bg-light py-2 my-3"},wa={class:"row"},Na={class:"mb-2 col"},ka={class:"form-label",for:"selectedGroup15"},Ra=["disabled","value"],Da={class:"mb-2 col"},Fa={class:"form-label",for:"selectedGroup10"},xa=["disabled","value"],Oa={class:"row"},Ua={class:"mb-2 col"},La={class:"form-label",for:"selectedGroup10"},Ka=["disabled","value"],qa={class:"mb-2 col"},Ha={class:"form-label",for:"selectedGroup10"},Ba=["disabled","value"],Ya={class:"row"},Ja={class:"mb-2 col"},za={class:"form-label",for:"selectedGroup10"},Ma=["disabled","value"],Pa={class:"mb-2 col"},Ga={class:"form-label",for:"selectedGroup10"},ja=["disabled","value"];var Za={__name:"SimplifiedForm",props:["abilitiesValues"],emits:["storeForm3"],setup(e,{emit:t}){const a=t,r={str:"Force",dex:"Dextérité",con:"Constitution",int:"Intelligence",wis:"Sagesse",cha:"Charisme"},l=(0,i.Fl)((()=>{const e=Aa.getters["form3/form3"];return console.log("RESULTS",e),"m-simple"==e.mode?JSON.parse(JSON.stringify(e.results)):{str:0,dex:0,con:0,int:0,wis:0,cha:0}})),o=e,c=(0,i.Fl)((()=>(console.log("ABILITIESVALUES",o.abilitiesValues),o.abilitiesValues))),u=(0,i.Fl)((()=>{console.log(l.value);const e=Object.entries(l.value).filter((e=>(console.log(e),e[1]==c.value[0])));return console.log("SELECTEDGROUP15",e),0==e.length?"":e[0][0]})),m=(0,i.Fl)((()=>{const e=Object.entries(l.value).filter((e=>e[1]==c.value[1]));return 0==e.length?"":e[0][0]})),d=(0,i.Fl)((()=>{const e=Object.entries(l.value).filter((e=>e[1]==c.value[2]));return 0==e.length?"":e[0][0]})),p=(0,i.Fl)((()=>{const e=Object.entries(l.value).filter((e=>e[1]==c.value[3]));return 0==e.length?"":e[0][0]})),v=(0,i.Fl)((()=>{const e=Object.entries(l.value).filter((e=>e[1]==c.value[4]));return 0==e.length?"":e[0][0]})),h=(0,i.Fl)((()=>{const e=Object.entries(l.value).filter((e=>e[1]==c.value[5]));return 0==e.length?"":e[0][0]})),g=e=>{const t=[u,m,d,p,v,h];return t.filter((t=>t.value==e)).length>0},S=()=>{a("storeForm3",{str:0,dex:0,con:0,int:0,wis:0,cha:0})},f=(e,t)=>{for(const[a,s]of Object.entries(l.value))s==e&&(l.value[a]=0);console.log("updateResults",e,t.target.value),l.value[t.target.value]=e,console.log(l.value),a("storeForm3",l.value,{})};return(e,t)=>((0,i.wg)(),(0,i.iD)("div",Ta,[(0,i._)("div",wa,[(0,i._)("div",Na,[(0,i._)("label",ka,(0,n.zw)(c.value[0]),1),(0,i.wy)((0,i._)("select",{onChange:t[0]||(t[0]=e=>f(c.value[0],e)),id:"selectedGroup15",class:"form-select","onUpdate:modelValue":t[1]||(t[1]=e=>u.value=e)},[((0,i.wg)(),(0,i.iD)(i.HY,null,(0,i.Ko)(r,((e,t,a)=>(0,i._)("option",{key:a,disabled:g(t),value:t},(0,n.zw)(e),9,Ra))),64))],544),[[s.bM,u.value]])]),(0,i._)("div",Da,[(0,i._)("label",Fa,(0,n.zw)(c.value[1]),1),(0,i.wy)((0,i._)("select",{onChange:t[2]||(t[2]=e=>f(c.value[1],e)),id:"selectedGroup14",class:"form-select","onUpdate:modelValue":t[3]||(t[3]=e=>m.value=e)},[((0,i.wg)(),(0,i.iD)(i.HY,null,(0,i.Ko)(r,((e,t,a)=>(0,i._)("option",{key:a,disabled:g(t),value:t},(0,n.zw)(e),9,xa))),64))],544),[[s.bM,m.value]])])]),(0,i._)("div",Oa,[(0,i._)("div",Ua,[(0,i._)("label",La,(0,n.zw)(c.value[2]),1),(0,i.wy)((0,i._)("select",{onChange:t[4]||(t[4]=e=>f(c.value[2],e)),id:"selectedGroup13",class:"form-select","onUpdate:modelValue":t[5]||(t[5]=e=>d.value=e)},[((0,i.wg)(),(0,i.iD)(i.HY,null,(0,i.Ko)(r,((e,t,a)=>(0,i._)("option",{key:a,disabled:g(t),value:t},(0,n.zw)(e),9,Ka))),64))],544),[[s.bM,d.value]])]),(0,i._)("div",qa,[(0,i._)("label",Ha,(0,n.zw)(c.value[3]),1),(0,i.wy)((0,i._)("select",{onChange:t[6]||(t[6]=e=>f(c.value[3],e)),id:"selectedGroup12",class:"form-select","onUpdate:modelValue":t[7]||(t[7]=e=>p.value=e)},[((0,i.wg)(),(0,i.iD)(i.HY,null,(0,i.Ko)(r,((e,t,a)=>(0,i._)("option",{key:a,disabled:g(t),value:t},(0,n.zw)(e),9,Ba))),64))],544),[[s.bM,p.value]])])]),(0,i._)("div",Ya,[(0,i._)("div",Ja,[(0,i._)("label",za,(0,n.zw)(c.value[4]),1),(0,i.wy)((0,i._)("select",{onChange:t[8]||(t[8]=e=>f(c.value[4],e)),id:"selectedGroup10",class:"form-select","onUpdate:modelValue":t[9]||(t[9]=e=>v.value=e)},[((0,i.wg)(),(0,i.iD)(i.HY,null,(0,i.Ko)(r,((e,t,a)=>(0,i._)("option",{key:a,disabled:g(t),value:t},(0,n.zw)(e),9,Ma))),64))],544),[[s.bM,v.value]])]),(0,i._)("div",Pa,[(0,i._)("label",Ga,(0,n.zw)(c.value[5]),1),(0,i.wy)((0,i._)("select",{onChange:t[10]||(t[10]=e=>f(c.value[5],e)),id:"selectedGroup8",class:"form-select","onUpdate:modelValue":t[11]||(t[11]=e=>h.value=e)},[((0,i.wg)(),(0,i.iD)(i.HY,null,(0,i.Ko)(r,((e,t,a)=>(0,i._)("option",{key:a,disabled:g(t),value:t},(0,n.zw)(e),9,ja))),64))],544),[[s.bM,h.value]])])]),(0,i._)("button",{class:"btn btn-outline-danger my-2",onClick:S},"Reset")]))}};const Va=Za;var $a=Va;const Qa={class:"container bg-light border rounded border-primary py-2 my-3"},Wa={class:"d-flex justify-content-between"},Xa=["onClick"],es=["onClick"];var ts={__name:"FreeForm",emits:["storeForm3"],setup(e,{emit:t}){const a=t,s={str:"Force",dex:"Dextérité",con:"Constitution",int:"Intelligence",wis:"Sagesse",cha:"Charisme"},r=(0,i.Fl)((()=>{const e=Aa.getters["form3/form3"];return"m-free"==e.mode?JSON.parse(JSON.stringify(e.results)):{str:8,dex:8,con:8,int:8,wis:8,cha:8}})),l={8:0,9:1,10:2,11:3,12:4,13:5,14:7,15:9},o=(0,i.Fl)((()=>{let e=0;for(const t of Object.values(r.value))e+=l[t];return e})),c=e=>{r.value[e]<15&&(r.value[e]+=1),a("storeForm3",r.value)},u=e=>{r.value[e]>8&&(r.value[e]-=1),a("storeForm3",r.value,{})};return(e,t)=>((0,i.wg)(),(0,i.iD)("div",Qa,[(0,i._)("div",null,[(0,i._)("span",{class:(0,n.C_)(o.value>27?"text-danger":"")},(0,n.zw)(o.value)+" / 27",3)]),((0,i.wg)(),(0,i.iD)(i.HY,null,(0,i.Ko)(s,((e,t,a)=>(0,i._)("div",{class:"my-2",key:a},[(0,i._)("div",Wa,[(0,i._)("button",{onClick:e=>u(t),type:"button",class:"btn btn-outline-primary"},"-",8,Xa),(0,i._)("span",null,(0,n.zw)(`${e} (${r.value[t]})`),1),(0,i._)("button",{onClick:e=>c(t),type:"button",class:"btn btn-outline-primary"},"+",8,es)])]))),64))]))}};const as=ts;var ss=as;const is=(0,i._)("label",{class:"form-label"},"Modification des caractéristiques",-1),ns={class:"nav nav-pills"},rs={class:"nav-item"},ls={class:"nav-item"};var os={__name:"CharacterForm3",emits:["next","previous"],setup(e,{emit:t}){const a=t,s=(0,r.iH)("m-simple"),l=e=>{s.value=e.target.id},c=(0,o.oR)(),u=(e,t)=>{c.dispatch("form3/updateForm3",new re(s.value,e,t))};return(e,t)=>((0,i.wg)(),(0,i.iD)(i.HY,null,[is,(0,i._)("ul",ns,[(0,i._)("li",rs,[(0,i._)("a",{id:"m-simple",onClick:t[0]||(t[0]=e=>l(e)),class:(0,n.C_)("nav-link "+("m-simple"==s.value?"active":"")),href:"#"},"Mode simplifié",2)]),(0,i._)("li",ls,[(0,i._)("a",{id:"m-free",onClick:t[1]||(t[1]=e=>l(e)),class:(0,n.C_)(["nav-link","nav-link "+("m-free"==s.value?"active":"")]),href:"#"},"Mode libre",2)])]),"m-simple"==s.value?((0,i.wg)(),(0,i.j4)($a,{key:0,abilitiesValues:[15,14,13,12,10,8],onStoreForm3:t[2]||(t[2]=(e,t)=>u(e,t))})):(0,i.kq)("",!0),"m-free"==s.value?((0,i.wg)(),(0,i.j4)(ss,{key:1,onStoreForm3:t[3]||(t[3]=(e,t)=>u(e,t))})):(0,i.kq)("",!0),(0,i.Wm)(Yt,{onNext:t[4]||(t[4]=e=>a("next")),onPrevious:t[5]||(t[5]=e=>a("previous"))})],64))}};const cs=os;var us=cs;const ms={class:"mb-3"},ds=(0,i._)("label",{class:"form-label",for:"characterName"},"Selection de l'historique",-1),ps=(0,i._)("option",{id:"option-default",value:""},"-",-1),vs=["selected","id","value"];var hs={__name:"CharacterForm4",emits:["next","previous"],setup(e,{emit:t}){console.log(va);const a=t,s=va,l=(0,o.oR)(),c=(0,i.Fl)((()=>l.getters["form4/historicChoices"])),u=(0,i.Fl)((()=>l.getters["form4/choices"])),m=e=>{l.dispatch("form4/updateHistoricChoices",e)};return(e,t)=>((0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",ms,[ds,(0,i._)("select",{class:"form-select",onInput:t[0]||(t[0]=e=>(0,r.SU)(l).dispatch("form4/updateHistoric",e.target.options[e.target.options.selectedIndex].id.split("-")[1]))},[ps,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)((0,r.SU)(s),((e,t)=>((0,i.wg)(),(0,i.iD)("option",{selected:e["key"]==c.value.name,id:`option-${e["key"]}`,key:t,value:e["name"]},(0,n.zw)(e["name"]),9,vs)))),128))],32)]),(0,i._)("div",null,["default"!=c.value.name&&Object.values((0,r.SU)(l).getters["form4/choices"]).find((e=>e.length>0))?((0,i.wg)(),(0,i.j4)(Kt,{choices:(0,r.SU)(s).find((e=>e.key==c.value.name))?(0,r.SU)(s).find((e=>e.key==c.value.name)).choices:[],key:c.value.name,state:u.value,"onUpdate:choices":t[1]||(t[1]=e=>m(e))},null,8,["choices","state"])):(0,i.kq)("",!0)]),(0,i.Wm)(Yt,{onNext:t[2]||(t[2]=e=>a("next")),onPrevious:t[3]||(t[3]=e=>a("previous"))})],64))}};const gs=hs;var Ss=gs,fs={};const bs=(0,i._)("nav",{class:"navbar",style:{height:"50px","background-color":"#3D5235"}},null,-1),ys=(0,i._)("img",{class:"mx-auto d-block",src:l,alt:"",srcset:"",width:"100",style:{position:"relative",bottom:"40px"}},null,-1),_s={class:"container"},Is={class:"row"},Es={class:"col-md-6"},Cs=["aria-valuenow"],As={class:"col-md-6 ps-md-5 mt-5 mt-md-0"},Ts={class:"bg-light border border-dark rounded"};var ws={__name:"App",setup(e){const t=(0,r.iH)({force:0,dexterite:0,constitution:0,intelligence:0,sagesse:0,charisme:0}),a=(0,r.iH)([]),s=(0,r.iH)({Acrobaties:0,Arnaque:0,"Athlétisme":0,"Discrétion":0,Dressage:0,Escamotage:0,Histoire:0,Intimidation:0,Investigation:0,"Médecine":0,Nature:0,Perception:0,"Perspicacité":0,Persuasion:0,Religion:0,"Représentation":0,Survie:0}),l=(0,r.iH)(""),c={classe:null,"équipements":{},"compétences":{},maitrise:{},sauvegarde:[],"capacités":[],bonus_maitrise:""},u=(0,r.iH)(0),m=(0,r.iH)(""),d=e=>m.value=e,p=e=>{let a;if(""!==l.value){a=fs["race"][l.value]["caractériques"];for(let e in a)t.value[e]-=parseInt(a[e])}l.value=e,a=fs["race"][e]["caractériques"];for(let s in a)t.value[s]+=parseInt(a[s])},v=(0,o.oR)();console.log(v.getters["characterState/step"]);const h=(0,i.Fl)((()=>v.getters["characterState/step"])),g=(e,t)=>{for(let a in s.value)void 0!==e[a]&&null!==e&&(s.value[a]-=parseInt(e[a])),void 0!==t[a]&&(s.value[a]+=parseInt(t[a]))},S=(e,t)=>{for(let s in e)void 0!==e[s]&&null!==e&&a.value.splice(a.value.indexOf(e[s]),1);for(let s in t)void 0!==t[s]&&a.value.push(t[s])},f=e=>{g(c["compétences"],e["compétences"]),S(c["équipements"],e["équipements"]),c["compétences"]=JSON.parse(JSON.stringify(e["compétences"])),c["équipements"]=JSON.parse(JSON.stringify(e["équipements"])),u.value=parseInt(e["bonus_maitrise"])},b=()=>{Xt.Z.remove("characterForm1"),Xt.Z.remove("characterForm2"),Xt.Z.remove("characterForm3"),Xt.Z.remove("characterForm4"),Xt.Z.remove("characterState"),location.reload()};return(e,o)=>((0,i.wg)(),(0,i.iD)(i.HY,null,[bs,ys,(0,i._)("div",{class:"container mb-3"},[(0,i._)("button",{class:"btn btn-outline-danger",onClick:b},"Tout supprimer")]),(0,i._)("div",_s,[(0,i._)("div",Is,[(0,i._)("div",Es,[(0,i._)("div",{class:"progress mb-3",role:"progressbar","aria-label":"Example 20px high","aria-valuenow":h.value/3*100,"aria-valuemin":"0","aria-valuemax":"100",style:{height:"20px"}},[(0,i._)("div",{class:"progress-bar",style:(0,n.j5)(`width: ${h.value/3*100}%`)},null,4)],8,Cs),0===h.value?((0,i.wg)(),(0,i.j4)(E,{key:0,"onUpdate:characterName":o[0]||(o[0]=e=>d(e)),onNext:o[1]||(o[1]=e=>(0,r.SU)(v).commit("characterState/setStep",h.value+1))})):(0,i.kq)("",!0),1===h.value?((0,i.wg)(),(0,i.j4)(Wt,{key:1,"onUpdate:race":o[2]||(o[2]=e=>p(e)),onNext:o[3]||(o[3]=e=>(0,r.SU)(v).commit("characterState/setStep",h.value+1)),onPrevious:o[4]||(o[4]=e=>(0,r.SU)(v).commit("characterState/setStep",h.value-1)),"onUpdate:classe":o[5]||(o[5]=e=>f(e))})):(0,i.kq)("",!0),2===h.value?((0,i.wg)(),(0,i.j4)(us,{key:2,onNext:o[6]||(o[6]=e=>(0,r.SU)(v).commit("characterState/setStep",h.value+1)),onPrevious:o[7]||(o[7]=e=>(0,r.SU)(v).commit("characterState/setStep",h.value-1))})):(0,i.kq)("",!0),3===h.value?((0,i.wg)(),(0,i.j4)(Ss,{key:3,onPrevious:o[8]||(o[8]=e=>(0,r.SU)(v).commit("characterState/setStep",h.value-1))})):(0,i.kq)("",!0)]),(0,i._)("div",As,[(0,i._)("div",Ts,[(0,i.Wm)(Nt,{"character-name":m.value,race:l.value,caracteristiques:t.value,competences:s.value,equipements:a.value,bonus_maitrise:u.value},null,8,["character-name","race","caracteristiques","competences","equipements","bonus_maitrise"])])])])])],64))}};const Ns=ws;var ks=Ns;const Rs=(0,s.ri)(ks);Rs.use(Aa),Rs.mount("#app")}},t={};function a(s){var i=t[s];if(void 0!==i)return i.exports;var n=t[s]={exports:{}};return e[s].call(n.exports,n,n.exports,a),n.exports}a.m=e,function(){var e=[];a.O=function(t,s,i,n){if(!s){var r=1/0;for(u=0;u<e.length;u++){s=e[u][0],i=e[u][1],n=e[u][2];for(var l=!0,o=0;o<s.length;o++)(!1&n||r>=n)&&Object.keys(a.O).every((function(e){return a.O[e](s[o])}))?s.splice(o--,1):(l=!1,n<r&&(r=n));if(l){e.splice(u--,1);var c=i();void 0!==c&&(t=c)}}return t}n=n||0;for(var u=e.length;u>0&&e[u-1][2]>n;u--)e[u]=e[u-1];e[u]=[s,i,n]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.p="/clara/"}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,s){var i,n,r=s[0],l=s[1],o=s[2],c=0;if(r.some((function(t){return 0!==e[t]}))){for(i in l)a.o(l,i)&&(a.m[i]=l[i]);if(o)var u=o(a)}for(t&&t(s);c<r.length;c++)n=r[c],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return a.O(u)},s=self["webpackChunkdnd"]=self["webpackChunkdnd"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(2688)}));s=a.O(s)})();
//# sourceMappingURL=app.1812773f.js.map