(function(){"use strict";var e={7085:function(e,t,a){var s=a(9242),i=(a(560),a(3396)),n=a(7139),r=a(65);const l={class:"mb-3"},o=(0,i._)("label",{class:"form-label",for:"characterName"},"Nom du personnage",-1),c=["value"],u=(0,i._)("button",{type:"submit",class:"btn btn-primary"},"Submit",-1);var m={__name:"CharacterForm1",emits:["next"],setup(e,{emit:t}){const a=(0,r.oR)(),n=t,m=()=>n("next"),d=(0,i.Fl)((()=>a.getters["characterForm1/characterName"])),p=e=>a.commit("characterForm1/setCharacterName",e.target.value);return(e,t)=>((0,i.wg)(),(0,i.iD)("form",{onSubmit:(0,s.iM)(m,["prevent"])},[(0,i._)("div",l,[o,(0,i._)("input",{class:"form-control",type:"text",id:"characterName",name:"characterName",onInput:p,value:d.value},null,40,c)]),u],32))}};const d=m;var p=d,v=a(4870);const h="abilities",g="attributes",f="subRace",S="skills",b="features",_="languages",y="spells",I="masterings",E="items",C="saves",A={CA:"ca",INIT:"init",SPEED:"speed",LIFE:"life",TEMP_LIFE:"tempLife",LIFE_DICE:"hitDice",BONUS_MAITRISE:"masteringBonus"},T={FOR:"str",DEX:"dex",CON:"con",INT:"int",SAG:"wis",CHA:"cha"},w={CA:"ca",INIT:"init",SPEED:"speed",LIFE:"life",TEMP_LIFE:"tempLife",HIT_DICE:"hitDice"},k={ACROBATICS:"acrobatics",ANIMAL_HANDLING:"animal_handling",ARCANA:"arcana",ATHLETICS:"athletics",DECEPTION:"deception",HISTORY:"history",INSIGHT:"insight",INTIMIDATION:"intimidation",INVESTIGATION:"investigation",MEDICINE:"medicine",NATURE:"nature",PERCEPTION:"perception",PERFORMANCE:"performance",PERSUASION:"persuasion",RELIGION:"religion",SLEIGHT_OF_HAND:"sleight_of_hand",STEALTH:"stealth",SURVIVAL:"survival"},R={[k.ACROBATICS]:"dex",[k.ANIMAL_HANDLING]:"wis",[k.ARCANA]:"int",[k.ATHLETICS]:"str",[k.DECEPTION]:"cha",[k.HISTORY]:"int",[k.INSIGHT]:"wis",[k.INTIMIDATION]:"cha",[k.INVESTIGATION]:"int",[k.MEDICINE]:"wis",[k.NATURE]:"int",[k.PERCEPTION]:"wis",[k.PERFORMANCE]:"cha",[k.PERSUASION]:"cha",[k.RELIGION]:"int",[k.SLEIGHT_OF_HAND]:"dex",[k.STEALTH]:"dex",[k.SURVIVAL]:"wis"};var N={CARACTERISTICS_KEY:h,ATTRIBUTES_KEY:g,CARACTERISTICS:T,ATTRIBUTES:w,SUB_RACE_KEY:f,SKILLS_KEY:S,ATTRIBUTES_KEYS:A,TRAITS_KEY:b,LANGUAGES_KEY:_,SPELLS_KEY:y,MAITRISES_KEY:I,ITEMS_KEY:E,SAVE_KEY:C,SKILLS:k,SKILLS_ABILITIES:R},D=JSON.parse('{"acrobatics":{"name":"Acrobaties","caracteristic":"dex"},"animal_handling":{"name":"Dressage","caracteristic":"wis"},"arcana":{"name":"Arcanes","caracteristic":"int"},"athletics":{"name":"Athlétisme","caracteristic":"str"},"deception":{"name":"Tromperie","caracteristic":"cha"},"history":{"name":"Histoire","caracteristic":"int"},"insight":{"name":"Intuition","caracteristic":"wis"},"intimidation":{"name":"Intimidation","caracteristic":"cha"},"investigation":{"name":"Investigation","caracteristic":"int"},"medicine":{"name":"Médecine","caracteristic":"wis"},"nature":{"name":"Nature","caracteristic":"int"},"perception":{"name":"Perception","caracteristic":"wis"},"performance":{"name":"Performance","caracteristic":"cha"},"persuasion":{"name":"Persuasion","caracteristic":"cha"},"religion":{"name":"Religion","caracteristic":"int"},"sleight_of_hand":{"name":"Prestidigitation","caracteristic":"dex"},"stealth":{"name":"Discrétion","caracteristic":"dex"},"survival":{"name":"Survie","caracteristic":"wis"}}');function x(){return D}function U(e){let t=Object.entries(D).find((t=>(console.log("getSkillIdByName",t),t[1].name==e)));return t[0]}function L(e){return D[e].caracteristic}var K={getSkills:x,getSkillIdByName:U,getCaracteristic:L},O=JSON.parse('{"name":"classes","elements":[{"key":"barbare","name":"Barbare","masterings":[{"name":"Armure légère"},{"name":"Armure intermédiaire"},{"name":"Bouclier"},{"name":"Armes courantes"},{"name":"Armes de guerres"}],"attributes":[{"name":"life","quantity":12},{"name":"hitDice","quantity":12},{"name":"masteringBonus","quantity":2}],"saves":[{"name":"strength"},{"name":"constitution"}],"features":[{"name":"Rage"},{"name":"Défense sans armure"}],"choices":{"skills":[{"id":1,"values":[{"name":"athletics","quantity":1},{"name":"animal_handling","quantity":1},{"name":"intimidation","quantity":1},{"name":"nature","quantity":1},{"name":"perception","quantity":1},{"name":"survival","quantity":1}],"number":2}],"items":[{"id":1,"values":[{"name":"Hache à deux mains"},{"name":"Arme de guerre au CàC au choix"}],"number":1},{"id":2,"values":[{"name":"Hachette x2"},{"name":"Arme courante au choix"}],"number":1},{"id":3,"values":[{"name":"Kit d\'explorateur"},{"name":"Javeline x4"}],"number":1}]}},{"key":"barde","name":"Barde","attributes":[{"name":"pv","quantity":8},{"name":"hitDice","quantity":8},{"name":"masteringBonus","quantity":2}],"masterings":[{"name":"Armure légère"},{"name":"Armes courantes"},{"name":"Arbalète de poing"},{"name":"Epée longue"},{"name":"Rapière"}],"saves":[{"name":"dexterity"},{"name":"charisma"}],"items":[{"name":"Armure de cuire"},{"name":"Dague"}],"choices":{"skills":[{"id":1,"values":[{"name":"acrobatics","quantity":1},{"name":"animal_handling","quantity":1},{"name":"arcana","quantity":1},{"name":"athletics","quantity":1},{"name":"deception","quantity":1},{"name":"history","quantity":1},{"name":"insight","quantity":1},{"name":"intimidation","quantity":1},{"name":"investigation","quantity":1},{"name":"medicine","quantity":1},{"name":"nature","quantity":1},{"name":"perception","quantity":1},{"name":"performance","quantity":1},{"name":"performance","quantity":1},{"name":"persuasion","quantity":1},{"name":"religion","quantity":1},{"name":"sleight_of_hand","quantity":1},{"name":"stealth","quantity":1},{"name":"survival","quantity":1}],"number":3}],"items":[{"id":1,"values":[{"name":"Rapière"},{"name":"Epée longue"},{"name":"Arme courante au choix"}],"number":1},{"id":2,"values":[{"name":"Kit de diplomate"},{"name":"Kit d\'artiste"}],"number":1},{"id":3,"values":[{"name":"Luth"},{"name":"Autre instrument de musique"}],"number":1}]}}]}');const F={ADD:"add",SUB:"sub"};class H{constructor(e){this.name=e}}class q{constructor(e,t){this.name=e,this.quantity=t}}class Y{constructor(e,t,a){this.id=e,this.values=t,this.number=a}}class B{constructor(e,t,a,s,i){this.skills=e,this.items=t,this.subClass=a,this.languages=s,this.subRace=i}getBlanked(){return new B(this.skills.map((e=>new Y(e.id,[],e.number))),this.items.map((e=>new Y(e.id,[],e.number))),this.subClass.map((e=>new Y(e.id,[],e.number))),this.languages.map((e=>new Y(e.id,[],e.number))),this.subRace.map((e=>new Y(e.id,[],e.number))))}digest(e,t){for(let a in this)for(let s in this[a]){const i=this[a][s].values;i.length>0&&i[0]instanceof H&&(t===F.ADD?e.commit("characterState/addElements",{property:a,items:i},{root:!0}):t===F.SUB&&e.commit("characterState/subElements",{property:a,items:i},{root:!0})),i.length>0&&i[0]instanceof q&&(t===F.ADD?e.commit("characterState/addQuantities",{property:a,items:i},{root:!0}):t===F.SUB&&e.commit("characterState/subQuantities",{property:a,items:i},{root:!0})),i.length>0&&i[0]instanceof z&&(t===F.ADD?i.forEach((t=>t.digest(e,F.ADD))):t===F.SUB&&i.forEach((t=>t.digest(e,F.SUB))))}}static fromJson(e){const t="skills"in e?e.skills.map((e=>new Y(e.id,e.values.map((e=>new q(e.name,e.quantity))),e.number))):[],a="items"in e?e.items.map((e=>new Y(e.id,e.values.map((e=>new H(e.name))),e.number))):[],s="subClass"in e?e.subClass.map((e=>new Y(e.id,e.values.map((e=>new H(e.name))),e.number))):[],i="languages"in e?e.languages.map((e=>new Y(e.id,e.values.map((e=>new H(e.name))),e.number))):[],n="subRace"in e?e.subRace.map((e=>new Y(e.id,e.values.map((e=>J.fromJson(e))),e.number))):[];return new B(t,a,s,i,n)}}class z{constructor(e,t,a,s,i,n,r,l,o,c,u){this.key=e,this.name=t,this.attributes=a,this.masterings=s,this.saves=i,this.features=n,this.items=r,this.skills=l,this.choices=o,this.abilities=c,this.spells=u}digest(e,t){for(let a in this)this[a]instanceof H&&(t===F.ADD?e.commit("characterState/addElements",{property:a,items:[this[a]]},{root:!0}):t===F.SUB&&e.commit("characterState/subElements",{property:a,items:[this[a]]},{root:!0})),this[a]instanceof q&&(t===F.ADD?e.commit("characterState/addQuantities",{property:a,items:[this[a]]},{root:!0}):t===F.SUB&&e.commit("characterState/subQuantities",{property:a,items:[this[a]]},{root:!0})),Array.isArray(this[a])&&this[a].length>0&&this[a][0]instanceof H&&(t===F.ADD?e.commit("characterState/addElements",{property:a,items:this[a]},{root:!0}):t===F.SUB&&e.commit("characterState/subElements",{property:a,items:this[a]},{root:!0})),Array.isArray(this[a])&&this[a].length>0&&this[a][0]instanceof q&&(t===F.ADD?e.commit("characterState/addQuantities",{property:a,items:this[a]},{root:!0}):t===F.SUB&&e.commit("characterState/subQuantities",{property:a,items:this[a]},{root:!0}))}static fromJson(e,t){const a="attributes"in e?e.attributes.map((e=>new q(e.name,e.quantity))):[],s="masterings"in e?e.masterings.map((e=>new H(e.name))):[],i="saves"in e?e.saves.map((e=>new H(e.name))):[],n="features"in e?e.features.map((e=>new H(e.name))):[],r="items"in e?e.items.map((e=>new H(e.name))):[],l="skills"in e?e.skills.map((e=>new q(e.name,e.quantity))):[],o="choices"in e?B.fromJson(e.choices):new B([],[],[],[]),c="abilities"in e?e.abilities.map((e=>new q(e.name,e.quantity))):[],u="spells"in e?e.spells.map((e=>new H(e.name))):[];return Object.assign(new t,{key:e.key,name:e.name,attributes:a,masterings:s,saves:i,features:n,items:r,skills:l,choices:o,abilities:c,spells:u})}}class M extends z{static fromJson(e){return z.fromJson(e,M)}}class G extends z{static fromJson(e){return z.fromJson(e,G)}}class P extends z{static fromJson(e){return z.fromJson(e,P)}}class J extends z{static fromJson(e){return z.fromJson(e,P)}}class j{constructor(e){this.elements=e}static fromJson(e,t){return new j(e.elements.map((e=>t.fromJson(e))))}}class V extends j{static fromJson(e){return j.fromJson(e,M)}}class $ extends j{static fromJson(e){return j.fromJson(e,G)}}class Q extends j{static fromJson(e){return j.fromJson(e,P)}}class W{constructor(e,t,a){this.mode=e,this.results=t,this.map=a}}const X=$.fromJson(O)["elements"];var Z=JSON.parse('{"name":"races","elements":[{"key":"elfe","name":"Elfe","attributes":[{"name":"speed","quantity":9}],"skills":[{"name":"perception","quantity":1}],"abilities":[{"name":"dex","quantity":2}],"features":[{"name":"Vision dans le noir"},{"name":"Ascendance féerique"},{"name":"Transe"}],"languages":[{"name":"Elfe"},{"name":"Commun"}],"choices":{"subRace":[{"id":1,"values":[{"key":"hautElfe","name":"Haut-elfe","abilities":[{"name":"int","quantity":1}],"masterings":[{"name":"Epée longue"},{"name":"Epée courte"},{"name":"Arc long"},{"name":"Arc court"}]},{"key":"elfeDesBois","name":"Elfe des bois","abilities":[{"name":"wis","quantity":1}],"masterings":[{"name":"Epée longue"},{"name":"Epée courte"},{"name":"Arc long"},{"name":"Arc court"}],"spells":[{"name":"Cachette naturelle"}]},{"key":"elfeNoir","name":"Elfe noir","abilities":[{"name":"cha","quantity":1}],"features":[{"name":"Vision dans le noir supérieure"},{"name":"Sensibilité au soleil"}],"spells":[{"name":"Lumière dansante"}],"masterings":[{"name":"Rapière"},{"name":"Epée courte"},{"name":"Arbalète de poing"}]}],"number":1}]}},{"key":"halfelin","name":"Halfelin","attributes":[{"name":"speed","quantity":7.5}],"abilities":[{"name":"dex","quantity":2}],"languages":[{"name":"Halfelin"},{"name":"Commun"}],"features":[{"name":"Chanceux"},{"name":"Brave"},{"name":"Agilité halfeline"}],"choices":{"subRace":[{"id":1,"values":[{"key":"piedsLegers","name":"Pieds-légers","abilities":[{"name":"cha","quantity":1}],"features":[{"name":"Discrétion naturelle"}]},{"key":"robuste","name":"Robuste","abilities":[{"name":"con","quantity":1}],"features":[{"name":"Résistance des robustes"}]}],"number":1}]}}]}');const ee=Q.fromJson(Z)["elements"];function te(e){const t=Math.floor((e-10)/2);return t}function ae(e,t){const a=Math.floor((e-10)/2);return a+t}function se(e,t){const a=Math.floor((e-10)/2);return a+2*t}function ie(e,t,a,s){const i=t[e];return 1===s?ae(i,a):2===s?se(i,a):te(i)}function ne(e,t,a){let s={};for(let i in e){const n=N.SKILLS_ABILITIES[i],r=ie(n,t,a,e[i]);1==e[i]?s[i]=`☆ (${r})`:2==e[i]?s[i]=`★ (${r})`:e[i]>2?s[i]=`⍟ (${r})`:s[i]=`(${r})`}return s}const re={class:"container mt-3"},le={class:"row"},oe={class:"col-xxl"},ce={class:"input-group mb-3"},ue=(0,i._)("span",{class:"input-group-text",id:"inputGroup-sizing-default"},"Nom du personnage",-1),me=["placeholder"],de={class:"col-xl"},pe={class:"input-group mb-3"},ve=(0,i._)("span",{class:"input-group-text",id:"inputGroup-sizing-default"},"Nom du joueur",-1),he=["placeholder"],ge={class:"row"},fe={class:"col-xxl-md"},Se={class:"input-group mb-3"},be=(0,i._)("span",{class:"input-group-text",id:"inputGroup-sizing-default"},"Race",-1),_e=["placeholder"],ye={class:"col-xxl-md"},Ie={class:"input-group mb-3"},Ee=(0,i._)("span",{class:"input-group-text",id:"inputGroup-sizing-default"},"Classe",-1),Ce=["placeholder"],Ae={class:"row"},Te={class:"col-md"},we={class:"input-group mb-3"},ke=(0,i._)("span",{class:"input-group-text",id:"inputGroup-sizing-default"},"Alignement",-1),Re=["placeholder"],Ne={class:"col-xl"},De={class:"input-group mb-3"},xe=(0,i._)("span",{class:"input-group-text",id:"inputGroup-sizing-default"},"Histoire",-1),Ue=["placeholder"],Le={class:"row"},Ke={class:"col"},Oe={class:"card border-dark mb-3"},Fe=(0,i._)("div",{class:"card-header"},"Caractéristiques",-1),He={class:"card-body"},qe={class:"card-text"},Ye={class:"card border-dark mb-3"},Be=(0,i._)("div",{class:"card-header"},"Bonus",-1),ze={class:"card-body"},Me={class:"card-text"},Ge=(0,i._)("p",{class:"text-secondary"},"Inspiration",-1),Pe={class:"card border-dark mb-3"},Je=(0,i._)("div",{class:"card-header"},"Attributs",-1),je={class:"card-body"},Ve={class:"card-text"},$e=(0,i._)("p",{class:"text-secondary"},"Point de vie temporaire",-1),Qe={class:"col"},We={class:"card border-dark mb-3"},Xe=(0,i._)("div",{class:"card-header"},"Compétences",-1),Ze={class:"card-body"},et={class:"card-text"},tt={class:"row mb-3"},at={class:"col"},st={class:"list-group"},it=(0,i._)("li",{class:"list-group-item list-group-item-dark active"},"Equipements",-1),nt={class:"row mb-3"},rt={class:"col"},lt={class:"list-group"},ot=(0,i._)("li",{class:"list-group-item list-group-item-dark active"},"Sorts",-1),ct={class:"row mb-3"},ut={class:"col"},mt={class:"list-group"},dt=(0,i._)("li",{class:"list-group-item list-group-item-dark active"},"Capacités",-1),pt={class:"row mb-3"},vt={class:"col"},ht={class:"list-group"},gt=(0,i._)("li",{class:"list-group-item list-group-item-dark active"},"Langues",-1);var ft={__name:"CharacterFile",props:["competences"],setup(e){const t=e,a=(0,r.oR)(),s=(0,i.Fl)((()=>a.getters["characterForm1/characterName"])),l=(0,i.Fl)((()=>a.getters["form2/raceState"])),o=(0,i.Fl)((()=>{if("default"===l.value.key)return"";console.log(l.value);const e=ee.find((e=>e.key==l.value.key)).name,t=l.value.choices["subRace"].length>0&&l.value.choices["subRace"][0].values.length>0;if(t){const t=l.value.choices["subRace"][0].values[0].name;return`${e} (${t})`}return e}));function c(e){return Math.floor((e-10)/2)}const u=(0,i.Fl)((()=>a.getters["characterState/caracteristics"])),m=(0,i.Fl)((()=>{let e={};for(let t in u.value)e[t]=u.value[t]+" ("+c(u.value[t])+")";return e})),d=(0,i.Fl)((()=>a.getters["characterState/attributs"])),p=K.getSkills(),h=(0,i.Fl)((()=>a.getters["characterState/skills"])),g=(0,i.Fl)((()=>ne(h.value,u.value,d.value[N.ATTRIBUTES_KEYS.BONUS_MAITRISE]))),f=(0,i.Fl)((()=>a.getters["characterState/items"])),S=(0,i.Fl)((()=>a.getters["characterState/spells"])),b=(0,i.Fl)((()=>a.getters["characterState/capacities"])),_=(0,i.Fl)((()=>a.getters["form2/classState"])),y=(0,i.Fl)((()=>{if("default"===_.value.key)return"";const e=X.find((e=>e.key==_.value.key)).name,t=_.value.choices["subClass"].length>0;if(t){const t=_.value.choices["subClass"][0].name;return`${e} ${t}`}return e})),I=(0,i.Fl)((()=>a.getters["characterState/languages"])),E=(0,i.Fl)((()=>10)),C=(0,i.Fl)((()=>c(u.value["dex"])));return(e,a)=>((0,i.wg)(),(0,i.iD)("div",re,[(0,i._)("div",le,[(0,i._)("div",oe,[(0,i._)("div",ce,[ue,(0,i._)("input",{disabled:"",placeholder:s.value,type:"text",class:"form-control","aria-label":"Sizing example input","aria-describedby":"inputGroup-sizing-default"},null,8,me)])]),(0,i._)("div",de,[(0,i._)("div",pe,[ve,(0,i._)("input",{disabled:"",placeholder:t.characterName,type:"text",class:"form-control","aria-label":"Sizing example input","aria-describedby":"inputGroup-sizing-default"},null,8,he)])])]),(0,i._)("div",ge,[(0,i._)("div",fe,[(0,i._)("div",Se,[be,(0,i._)("input",{disabled:"",placeholder:o.value,type:"text",class:"form-control","aria-label":"Sizing example input","aria-describedby":"inputGroup-sizing-default"},null,8,_e)])]),(0,i._)("div",ye,[(0,i._)("div",Ie,[Ee,(0,i._)("input",{disabled:"",placeholder:y.value,type:"text",class:"form-control","aria-label":"Sizing example input","aria-describedby":"inputGroup-sizing-default"},null,8,Ce)])])]),(0,i._)("div",Ae,[(0,i._)("div",Te,[(0,i._)("div",we,[ke,(0,i._)("input",{disabled:"",placeholder:t.race,type:"text",class:"form-control","aria-label":"Sizing example input","aria-describedby":"inputGroup-sizing-default"},null,8,Re)])]),(0,i._)("div",Ne,[(0,i._)("div",De,[xe,(0,i._)("input",{disabled:"",placeholder:t.characterName,type:"text",class:"form-control","aria-label":"Sizing example input","aria-describedby":"inputGroup-sizing-default"},null,8,Ue)])])]),(0,i._)("div",Le,[(0,i._)("div",Ke,[(0,i._)("div",Oe,[Fe,(0,i._)("div",He,[(0,i._)("div",qe,[(0,i._)("p",null,[(0,i.Uk)("Force "),(0,i._)("span",null,(0,n.zw)(m.value[(0,v.SU)(N).CARACTERISTICS.FOR]),1)]),(0,i._)("p",null,[(0,i.Uk)("Dextérité "),(0,i._)("span",null,(0,n.zw)(m.value[(0,v.SU)(N).CARACTERISTICS.DEX]),1)]),(0,i._)("p",null,[(0,i.Uk)("Constitution "),(0,i._)("span",null,(0,n.zw)(m.value[(0,v.SU)(N).CARACTERISTICS.CON]),1)]),(0,i._)("p",null,[(0,i.Uk)("Intelligence "),(0,i._)("span",null,(0,n.zw)(m.value[(0,v.SU)(N).CARACTERISTICS.INT]),1)]),(0,i._)("p",null,[(0,i.Uk)("Sagesse "),(0,i._)("span",null,(0,n.zw)(m.value[(0,v.SU)(N).CARACTERISTICS.SAG]),1)]),(0,i._)("p",null,[(0,i.Uk)("Charisme "),(0,i._)("span",null,(0,n.zw)(m.value[(0,v.SU)(N).CARACTERISTICS.CHA]),1)])])])]),(0,i._)("div",Ye,[Be,(0,i._)("div",ze,[(0,i._)("div",Me,[(0,i._)("p",null,[(0,i.Uk)("Maitrise "),(0,i._)("span",null,(0,n.zw)(d.value[(0,v.SU)(N).ATTRIBUTES_KEYS.BONUS_MAITRISE]),1)]),(0,i._)("p",null,[(0,i.Uk)("Perception passive "),(0,i._)("span",null,(0,n.zw)(E.value),1)]),Ge])])]),(0,i._)("div",Pe,[Je,(0,i._)("div",je,[(0,i._)("div",Ve,[(0,i._)("p",null,[(0,i.Uk)("Classe d'armure "),(0,i._)("span",null,(0,n.zw)(d.value[(0,v.SU)(N).ATTRIBUTES_KEYS.CA]),1)]),(0,i._)("p",null,[(0,i.Uk)("Initiative "),(0,i._)("span",null,(0,n.zw)(C.value),1)]),(0,i._)("p",null,[(0,i.Uk)("Vitesse "),(0,i._)("span",null,(0,n.zw)(d.value[(0,v.SU)(N).ATTRIBUTES_KEYS.SPEED]),1)]),(0,i._)("p",null,[(0,i.Uk)("Point de vie "),(0,i._)("span",null,(0,n.zw)(d.value[(0,v.SU)(N).ATTRIBUTES_KEYS.LIFE]),1)]),$e,(0,i._)("p",null,[(0,i.Uk)("Dé de vie "),(0,i._)("span",null,(0,n.zw)(d.value[(0,v.SU)(N).ATTRIBUTES_KEYS.LIFE_DICE]),1)])])])])]),(0,i._)("div",Qe,[(0,i._)("div",We,[Xe,(0,i._)("div",Ze,[(0,i._)("div",et,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)((0,v.SU)(p),((e,t,a)=>((0,i.wg)(),(0,i.iD)("p",{key:a},[(0,i.Uk)((0,n.zw)(e["name"])+" ",1),(0,i._)("span",null,(0,n.zw)(g.value[t]),1)])))),128))])])])])]),(0,i._)("div",tt,[(0,i._)("div",at,[(0,i._)("ul",st,[it,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(f.value,((e,t)=>((0,i.wg)(),(0,i.iD)("li",{class:"list-group-item",key:t},(0,n.zw)(e),1)))),128))])])]),(0,i._)("div",nt,[(0,i._)("div",rt,[(0,i._)("ul",lt,[ot,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(S.value,((e,t)=>((0,i.wg)(),(0,i.iD)("li",{class:"list-group-item",key:t},(0,n.zw)(e),1)))),128))])])]),(0,i._)("div",ct,[(0,i._)("div",ut,[(0,i._)("ul",mt,[dt,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(b.value,((e,t)=>((0,i.wg)(),(0,i.iD)("li",{class:"list-group-item",key:t},(0,n.zw)(e),1)))),128))])])]),(0,i._)("div",pt,[(0,i._)("div",vt,[(0,i._)("ul",ht,[gt,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(I.value,((e,t)=>((0,i.wg)(),(0,i.iD)("li",{class:"list-group-item",key:t},(0,n.zw)(e),1)))),128))])])])]))}};const St=ft;var bt=St;const _t={class:"my-3 bg-light border rounded border-primary pt-3 px-3"},yt={class:"fs-6"},It={class:"form-label me-3",for:"characterName"},Et={class:"badge rounded-pill text-bg-primary"},Ct=["onUpdate:modelValue","onChange","value"],At={for:""};var Tt={__name:"SubChoice",props:["choices","state"],emits:["update:choices"],setup(e,{emit:t}){(0,r.oR)();const a=e,l=(0,v.iH)(a.choices);console.log("CHOICES",a.choices);const o=(0,i.Fl)((()=>{const e={};for(const t in l.value)Array.isArray(l.value[t])&&l.value[t].length>0&&(e[t]=l.value[t]);return e}));console.log("NON-EMPTY CHOICES",o.value);const c=t,u=(0,v.iH)(a.state);console.log("STATE",u);const m=(0,v.iH)(JSON.parse(JSON.stringify(u.value))),d=e=>{e.values.length>e.number&&e.values.pop(),console.log("CHECKLIMT 1",m.value);const t=B.fromJson(JSON.parse(JSON.stringify(m.value)));console.log("CHECKLIMT 2",t),c("update:choices",t)};return(e,t)=>((0,i.wg)(),(0,i.iD)("div",_t,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.value,((e,t,a)=>((0,i.wg)(),(0,i.iD)("div",{class:"mb-3 border-start border-primary border-2 ps-3",key:a},[(0,i._)("h3",yt," Choix des "+(0,n.zw)(t),1),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e,((e,a)=>((0,i.wg)(),(0,i.iD)("div",{key:`sub-${a}`},[(0,i._)("label",It,[(0,i._)("span",Et,(0,n.zw)(e.number-m.value[t].find((t=>t.id==e.id)).values.length),1)]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.values,((a,r)=>((0,i.wg)(),(0,i.iD)("div",{class:"form-check form-check-inline",key:r},[(0,i.wy)((0,i._)("input",{class:"form-check-input",type:"checkbox",name:"",id:"","onUpdate:modelValue":a=>m.value[t].filter((t=>t.id==e.id))[0].values=a,onChange:a=>d(m.value[t].find((t=>t.id==e.id))),value:(0,v.IU)(a)},null,40,Ct),[[s.e8,m.value[t].filter((t=>t.id==e.id))[0].values]]),(0,i._)("label",At,(0,n.zw)(a.name),1)])))),128))])))),128))])))),128))]))}};const wt=Tt;var kt=wt;const Rt={class:"row mt-3"};var Nt={__name:"FormController",emits:["next","previous"],setup(e,{emit:t}){const a=t,s=()=>a("next"),n=()=>a("previous");return(e,t)=>((0,i.wg)(),(0,i.iD)("div",Rt,[(0,i._)("div",{class:"col d-flex justify-content-start"},[(0,i._)("button",{class:"btn btn-secondary",onClick:n},"Précédent")]),(0,i._)("div",{class:"col d-flex justify-content-end"},[(0,i._)("button",{class:"btn btn-primary",onClick:s},"Suivant")])]))}};const Dt=Nt;var xt=Dt;const Ut={class:"mb-3"},Lt=(0,i._)("label",{class:"form-label",for:"characterName"},"Selection de la race",-1),Kt=(0,i._)("option",{id:"option-default",value:""},"-",-1),Ot=["selected","id","value"],Ft={class:"mb-3"},Ht=(0,i._)("label",{class:"form-label",for:"characterName"},"Selection de la classe",-1),qt=(0,i._)("option",{id:"option-default",value:""},"-",-1),Yt=["selected","id","value"];var Bt={__name:"CharacterForm2",emits:["next","previous"],setup(e,{emit:t}){const a=t,s=(0,r.oR)(),l=(0,i.Fl)((()=>s.getters["form2/raceState"])),o=(0,i.Fl)((()=>(console.log("isRaceSubChoicesDisplayed",l.value.choices),"default"!=l.value.key&&Object.values(l.value.choices).find((e=>e.length>0))))),c=()=>{const e=ee.find((e=>e.key==l.value.key))?ee.find((e=>e.key==l.value.key)).choices:[];return e},u=e=>{s.dispatch("form2/updateRace",e.target.options[e.target.options.selectedIndex].id.split("-")[1])},m=e=>{s.dispatch("form2/updateRaceChoices",e)},d=(0,i.Fl)((()=>s.getters["form2/classState"])),p=(0,i.Fl)((()=>(console.log("isClassesubChoicesDisplayed",d.value.key),"default"!=d.value.key&&Object.values(d.value.choices).find((e=>e.length>0))))),h=()=>{const e=X.find((e=>e.key==d.value.key))?X.find((e=>e.key==d.value.key)).choices:[];return e},g=e=>{s.dispatch("form2/updateClass",e.target.options[e.target.options.selectedIndex].id.split("-")[1])},f=e=>{s.dispatch("form2/updateClassChoices",e)};return(e,t)=>((0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",Ut,[Lt,(0,i._)("select",{class:"form-select",onInput:u},[Kt,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)((0,v.SU)(ee),((e,t)=>((0,i.wg)(),(0,i.iD)("option",{selected:e["key"]==l.value.key,id:`option-${e["key"]}`,key:t,value:e["name"]},(0,n.zw)(e["name"]),9,Ot)))),128))],32)]),(0,i._)("div",null,[o.value?((0,i.wg)(),(0,i.j4)(kt,{choices:c(),key:l.value.key,state:l.value.choices,"onUpdate:choices":m},null,8,["choices","state"])):(0,i.kq)("",!0)]),(0,i._)("div",Ft,[Ht,(0,i._)("select",{class:"form-select",onInput:g},[qt,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)((0,v.SU)(X),((e,t)=>((0,i.wg)(),(0,i.iD)("option",{selected:e["key"]==d.value.key,id:`option-${e["key"]}`,key:t,value:e["name"]},(0,n.zw)(e["name"]),9,Yt)))),128))],32)]),(0,i._)("div",null,[p.value?((0,i.wg)(),(0,i.j4)(kt,{choices:h(),key:d.value.key,state:d.value.choices,"onUpdate:choices":f},null,8,["choices","state"])):(0,i.kq)("",!0)]),(0,i.Wm)(xt,{onNext:t[0]||(t[0]=e=>a("next")),onPrevious:t[1]||(t[1]=e=>a("previous"))})],64))}};const zt=Bt;var Mt=zt;const Gt=()=>({characterName:"John Doe"}),Pt={characterName:e=>e.characterName},Jt={setCharacterName(e,t){e.characterName=t}};var jt={namespaced:!0,state:Gt,getters:Pt,mutations:Jt};const Vt=()=>({raceState:{key:"default",choices:{}},classState:{key:"default",choices:[]}}),$t={raceState:e=>e.raceState,classState:e=>e.classState},Qt={setRaceStateKey:(e,t)=>{e.raceState.key=t},setRaceStateChoices:(e,t)=>{e.raceState.choices=t},setClassStateKey:(e,t)=>{e.classState.key=t},setClassStateChoices:(e,t)=>{e.classState.choices=t}},Wt={updateRace:(e,t)=>{const a=ee,s=e.getters["raceState"].key,i="setRaceStateKey",n="updateRaceChoices",r=a.find((e=>e.key===s)),l=a.find((e=>e.key===t));if(r instanceof P&&r.digest(e,F.SUB),l instanceof P&&l.digest(e,F.ADD),e.commit(i,t),"default"!=t){const t=l.choices.getBlanked();e.dispatch(n,t)}else e.dispatch(n,{})},updateRaceChoices:(e,t)=>{const a="raceState",s="setRaceStateChoices",i=e.getters[a].choices;i instanceof B&&i.digest(e,F.SUB),t instanceof B&&t.digest(e,F.ADD),e.commit(s,t)},updateClass:(e,t)=>{const a=X,s=e.getters["classState"].key,i="setClassStateKey",n="updateClassChoices",r=a.find((e=>e.key===s)),l=a.find((e=>e.key===t));if(r instanceof G&&r.digest(e,F.SUB),l instanceof G&&l.digest(e,F.ADD),e.commit(i,t),"default"!=t){const t=l.choices.getBlanked();e.dispatch(n,t)}else e.dispatch(n,{})},updateClassChoices:(e,t)=>{const a="classState",s="setClassStateChoices",i=e.getters[a].choices;i instanceof B&&i.digest(e,F.SUB),t instanceof B&&t.digest(e,F.ADD),e.commit(s,t)}};var Xt={namespaced:!0,state:Vt,getters:$t,mutations:Qt,actions:Wt};const Zt=()=>({[N.CARACTERISTICS_KEY]:{[N.CARACTERISTICS.FOR]:0,[N.CARACTERISTICS.DEX]:0,[N.CARACTERISTICS.CON]:0,[N.CARACTERISTICS.INT]:0,[N.CARACTERISTICS.SAG]:0,[N.CARACTERISTICS.CHA]:0},[N.SKILLS_KEY]:{[N.SKILLS.ACROBATICS]:0,[N.SKILLS.ANIMAL_HANDLING]:0,[N.SKILLS.ARCANA]:0,[N.SKILLS.ATHLETICS]:0,[N.SKILLS.DECEPTION]:0,[N.SKILLS.HISTORY]:0,[N.SKILLS.INSIGHT]:0,[N.SKILLS.INTIMIDATION]:0,[N.SKILLS.INVESTIGATION]:0,[N.SKILLS.MEDICINE]:0,[N.SKILLS.NATURE]:0,[N.SKILLS.PERCEPTION]:0,[N.SKILLS.PERFORMANCE]:0,[N.SKILLS.PERSUASION]:0,[N.SKILLS.RELIGION]:0,[N.SKILLS.SLEIGHT_OF_HAND]:0,[N.SKILLS.STEALTH]:0,[N.SKILLS.SURVIVAL]:0},[N.ATTRIBUTES_KEY]:{[N.ATTRIBUTES_KEYS.CA]:0,[N.ATTRIBUTES_KEYS.INIT]:0,[N.ATTRIBUTES_KEYS.SPEED]:0,[N.ATTRIBUTES_KEYS.LIFE]:0,[N.ATTRIBUTES_KEYS.TEMP_LIFE]:0,[N.ATTRIBUTES_KEYS.LIFE_DICE]:0,[N.ATTRIBUTES_KEYS.BONUS_MAITRISE]:0},[N.ITEMS_KEY]:[],[N.SPELLS_KEY]:[],[N.TRAITS_KEY]:[],[N.MAITRISES_KEY]:[],[N.SAVE_KEY]:[],[N.LANGUAGES_KEY]:[],sub_class:[]}),ea={state:e=>e,caracteristics:e=>e[N.CARACTERISTICS_KEY],skills:e=>e[N.SKILLS_KEY],attributs:e=>e[N.ATTRIBUTES_KEY],items:e=>e.items,spells:e=>e.spells,capacities:e=>e[N.TRAITS_KEY],maitrises:e=>e.maitrises,sauvegardes:e=>e.sauvegardes,languages:e=>e.languages},ta={addCaracteristics(e,t){for(let a in t)e.caracteristics[a]+=t[a]},subCaracteristics(e,t){for(let a in t)e.caracteristics[a]-=t[a]},addAttributes(e,t){for(let a in t)e.attributs[a]+=t[a]},subAttributes(e,t){for(let a in t)e.attributs[a]-=t[a]},addSkills(e,t){for(let a in t)e.skills[a]+=t[a]},subSkills(e,t){for(let a in t)e.skills[a]-=t[a]},addItems(e,t){t.forEach((t=>{console.log("ADD ITEM",t),e.items.push(t)}))},subItems(e,t){t.forEach((t=>{e.items.splice(e.items.indexOf(t),1)}))},addQuantities(e,t){t.property in e?(console.log("addQuantities",t.property,t.items),t.items.forEach((a=>{e[t.property][a.name]+=a.quantity}))):console.error(t.property,"not in state")},subQuantities(e,t){t.property in e?(console.log("subQuantities",t.property,t.items),t.items.forEach((a=>{e[t.property][a.name]-=a.quantity}))):console.error(t.property,"not in state")},addElements(e,t){t.property in e?Array.isArray(e[t.property])?(console.log("addElements",t.property,t.items),t.items.forEach((a=>{e[t.property].push(a.name)}))):console.error(t.property,"is not an array"):console.error(t.property,"not in state")},subElements(e,t){t.property in e?Array.isArray(e[t.property])?t.items.forEach((a=>{e[t.property].splice(e[t.property].indexOf(a.name),1)})):console.error(t.property,"is not an array"):console.error(t.property,"not in state")}};var aa={namespaced:!0,state:Zt,getters:ea,mutations:ta},sa=JSON.parse('{"name":"backgrounds","elements":[{"key":"acolyte","name":"Acolyte","skills":[{"name":"insight","quantity":1},{"name":"religion","quantity":1}],"items":[{"name":"Symbole sacré"},{"name":"Livre de prières"},{"name":"5 bâtons d\'encens"},{"name":"Habits de cérémonie"},{"name":"Vêtements communs"},{"name":"Bourse contenant 15 po"}],"features":[{"name":"Abri du fidèle"}],"choices":{"languages":[{"id":1,"values":[{"name":"Commun"},{"name":"Elfique"},{"name":"Nain"},{"name":"Halfelin"},{"name":"Orc"}],"number":2}]}}]}');const ia=V.fromJson(sa)["elements"],na=()=>({historicChoices:{name:"default",choices:{}}}),ra={historicChoices:e=>e.historicChoices,choices:e=>e.choices,name:e=>e.historicChoices.name},la={setHistoricChoicesName:(e,t)=>{e.historicChoices.name=t},setHistoricChoicesChoice:(e,t)=>{e.choices=t}},oa={updateHistoric:(e,t)=>{const a=ia,s=a.find((t=>t.key===e.getters["name"])),i=a.find((e=>e.key===t));if(s instanceof M&&s.digest(e,F.SUB),i instanceof M&&i.digest(e,F.ADD),e.commit("setHistoricChoicesName",t),console.log(t),"default"!=t){const t=i.choices.getBlanked();e.dispatch("updateHistoricChoices",t)}else e.dispatch("updateHistoricChoices",{})},updateHistoricChoices:(e,t)=>{e.getters["choices"]instanceof B&&e.getters["choices"].digest(e,F.SUB),t instanceof B&&t.digest(e,F.ADD),e.commit("setHistoricChoicesChoice",t)}};var ca={namespaced:!0,state:na,getters:ra,mutations:la,actions:oa};const ua=()=>({choices:{}}),ma={choices:e=>e.choices},da={setChoices:(e,t)=>{console.log("Mutation setChoices"),e.choices=t}};var pa={namespaced:!0,state:ua,getters:ma,mutations:da};const va=()=>({form3:new W("",[])}),ha={form3:e=>e.form3},ga={setForm3:(e,t)=>{e.form3=t}},fa={updateForm3:(e,t)=>{const a=e.getters["form3"],s={property:N.CARACTERISTICS_KEY,items:Object.entries(a.results).map((([e,t])=>new q(e,t)))};e.commit("characterState/subQuantities",s,{root:!0});const i={property:N.CARACTERISTICS_KEY,items:Object.entries(t.results).map((([e,t])=>new q(e,t)))};e.commit("characterState/addQuantities",i,{root:!0}),e.commit("setForm3",t),console.log("updateForm3",i,s)}};var Sa={namespaced:!0,state:va,getters:ha,mutations:ga,actions:fa},ba=(0,r.MT)({modules:{characterForm1:jt,form2:Xt,characterState:aa,form4:ca,storeTest:pa,form3:Sa}});const _a={class:"container bg-light py-2"},ya={class:"mb-2"},Ia={class:"form-label",for:"selectedGroup15"},Ea=["disabled","value"],Ca={class:"mb-2"},Aa={class:"form-label",for:"selectedGroup10"},Ta=["disabled","value"],wa={class:"mb-2"},ka={class:"form-label",for:"selectedGroup10"},Ra=["disabled","value"],Na={class:"mb-2"},Da={class:"form-label",for:"selectedGroup10"},xa=["disabled","value"],Ua={class:"mb-2"},La={class:"form-label",for:"selectedGroup10"},Ka=["disabled","value"],Oa={class:"mb-2"},Fa={class:"form-label",for:"selectedGroup10"},Ha=["disabled","value"];var qa={__name:"SimplifiedForm",props:["abilitiesValues"],emits:["storeForm3"],setup(e,{emit:t}){const a=t,r={str:"Force",dex:"Dextérité",con:"Constitution",int:"Intelligence",wis:"Sagesse",cha:"Charisme"},l=(0,i.Fl)((()=>{const e=ba.getters["form3/form3"];return"m-simple"==e.mode||"m-classic"==e.mode?JSON.parse(JSON.stringify(e.results)):{str:0,dex:0,con:0,int:0,wis:0,cha:0}})),o=e,c=(0,i.Fl)((()=>o.abilitiesValues)),u=(0,i.Fl)((()=>{const e=Object.entries(l.value).filter((e=>e[1]==c.value[0]));return 0==e.length?"":e[0][0]})),m=(0,i.Fl)((()=>{const e=Object.entries(l.value).filter((e=>e[1]==c.value[1]));return 0==e.length?"":e[0][0]})),d=(0,i.Fl)((()=>{const e=Object.entries(l.value).filter((e=>e[1]==c.value[2]));return 0==e.length?"":e[0][0]})),p=(0,i.Fl)((()=>{const e=Object.entries(l.value).filter((e=>e[1]==c.value[3]));return 0==e.length?"":e[0][0]})),v=(0,i.Fl)((()=>{const e=Object.entries(l.value).filter((e=>e[1]==c.value[4]));return 0==e.length?"":e[0][0]})),h=(0,i.Fl)((()=>{const e=Object.entries(l.value).filter((e=>e[1]==c.value[5]));return 0==e.length?"":e[0][0]})),g=e=>{const t=[u,m,d,p,v,h];return t.filter((t=>t.value==e)).length>0},f=()=>{a("storeForm3",{str:0,dex:0,con:0,int:0,wis:0,cha:0})},S=(e,t)=>{for(const[a,s]of Object.entries(l.value))s==e&&(l.value[a]=0);console.log("updateResults",e,t.target.value),l.value[t.target.value]=e,console.log(l.value),a("storeForm3",l.value,{})};return(e,t)=>((0,i.wg)(),(0,i.iD)("div",_a,[(0,i._)("div",ya,[(0,i._)("label",Ia,(0,n.zw)(c.value[0]),1),(0,i.wy)((0,i._)("select",{onChange:t[0]||(t[0]=e=>S(c.value[0],e)),id:"selectedGroup15",class:"form-select","onUpdate:modelValue":t[1]||(t[1]=e=>u.value=e)},[((0,i.wg)(),(0,i.iD)(i.HY,null,(0,i.Ko)(r,((e,t,a)=>(0,i._)("option",{key:a,disabled:g(t),value:t},(0,n.zw)(e),9,Ea))),64))],544),[[s.bM,u.value]])]),(0,i._)("div",Ca,[(0,i._)("label",Aa,(0,n.zw)(c.value[1]),1),(0,i.wy)((0,i._)("select",{onChange:t[2]||(t[2]=e=>S(c.value[1],e)),id:"selectedGroup14",class:"form-select","onUpdate:modelValue":t[3]||(t[3]=e=>m.value=e)},[((0,i.wg)(),(0,i.iD)(i.HY,null,(0,i.Ko)(r,((e,t,a)=>(0,i._)("option",{key:a,disabled:g(t),value:t},(0,n.zw)(e),9,Ta))),64))],544),[[s.bM,m.value]])]),(0,i._)("div",wa,[(0,i._)("label",ka,(0,n.zw)(c.value[2]),1),(0,i.wy)((0,i._)("select",{onChange:t[4]||(t[4]=e=>S(c.value[2],e)),id:"selectedGroup13",class:"form-select","onUpdate:modelValue":t[5]||(t[5]=e=>d.value=e)},[((0,i.wg)(),(0,i.iD)(i.HY,null,(0,i.Ko)(r,((e,t,a)=>(0,i._)("option",{key:a,disabled:g(t),value:t},(0,n.zw)(e),9,Ra))),64))],544),[[s.bM,d.value]])]),(0,i._)("div",Na,[(0,i._)("label",Da,(0,n.zw)(c.value[3]),1),(0,i.wy)((0,i._)("select",{onChange:t[6]||(t[6]=e=>S(c.value[3],e)),id:"selectedGroup12",class:"form-select","onUpdate:modelValue":t[7]||(t[7]=e=>p.value=e)},[((0,i.wg)(),(0,i.iD)(i.HY,null,(0,i.Ko)(r,((e,t,a)=>(0,i._)("option",{key:a,disabled:g(t),value:t},(0,n.zw)(e),9,xa))),64))],544),[[s.bM,p.value]])]),(0,i._)("div",Ua,[(0,i._)("label",La,(0,n.zw)(c.value[4]),1),(0,i.wy)((0,i._)("select",{onChange:t[8]||(t[8]=e=>S(c.value[4],e)),id:"selectedGroup10",class:"form-select","onUpdate:modelValue":t[9]||(t[9]=e=>v.value=e)},[((0,i.wg)(),(0,i.iD)(i.HY,null,(0,i.Ko)(r,((e,t,a)=>(0,i._)("option",{key:a,disabled:g(t),value:t},(0,n.zw)(e),9,Ka))),64))],544),[[s.bM,v.value]])]),(0,i._)("div",Oa,[(0,i._)("label",Fa,(0,n.zw)(c.value[5]),1),(0,i.wy)((0,i._)("select",{onChange:t[10]||(t[10]=e=>S(c.value[5],e)),id:"selectedGroup8",class:"form-select","onUpdate:modelValue":t[11]||(t[11]=e=>h.value=e)},[((0,i.wg)(),(0,i.iD)(i.HY,null,(0,i.Ko)(r,((e,t,a)=>(0,i._)("option",{key:a,disabled:g(t),value:t},(0,n.zw)(e),9,Ha))),64))],544),[[s.bM,h.value]])]),(0,i._)("button",{class:"btn btn-danger mt-2",onClick:f},"Reset")]))}};const Ya=qa;var Ba=Ya;const za={class:"container border bg-light py-2"},Ma={class:"col-2"},Ga=["onClick"],Pa={class:"col-8 text-center"},Ja={class:"col-2"},ja=["onClick"];var Va={__name:"FreeForm",emits:["storeForm3"],setup(e,{emit:t}){const a=t,s={str:"Force",dex:"Dextérité",con:"Constitution",int:"Intelligence",wis:"Sagesse",cha:"Charisme"},r=(0,i.Fl)((()=>{const e=ba.getters["form3/form3"];return"m-free"==e.mode?JSON.parse(JSON.stringify(e.results)):{str:8,dex:8,con:8,int:8,wis:8,cha:8}})),l={8:0,9:1,10:2,11:3,12:4,13:5,14:7,15:9},o=(0,i.Fl)((()=>{let e=0;for(const t of Object.values(r.value))e+=l[t];return e})),c=e=>{r.value[e]<15&&(r.value[e]+=1),a("storeForm3",r.value)},u=e=>{r.value[e]>8&&(r.value[e]-=1),a("storeForm3",r.value,{})};return(e,t)=>((0,i.wg)(),(0,i.iD)("div",za,[(0,i._)("div",null,[(0,i._)("span",{class:(0,n.C_)(o.value>27?"text-danger":"")},(0,n.zw)(o.value)+" / 27",3)]),((0,i.wg)(),(0,i.iD)(i.HY,null,(0,i.Ko)(s,((e,t,a)=>(0,i._)("div",{class:"row border",key:a},[(0,i._)("div",Ma,[(0,i._)("button",{onClick:e=>u(t),class:"btn btn-primary w-100"},"-",8,Ga)]),(0,i._)("div",Pa,(0,n.zw)(`${e} (${r.value[t]})`),1),(0,i._)("div",Ja,[(0,i._)("button",{onClick:e=>c(t),class:"btn btn-primary w-100"},"+",8,ja)])]))),64))]))}};const $a=Va;var Qa=$a;const Wa=(0,i._)("label",{class:"form-label"},"Modification des caractéristiques",-1),Xa={class:"nav nav-tabs"},Za={class:"nav-item"},es={class:"nav-item"};var ts={__name:"CharacterForm3",setup(e){const t=(0,v.iH)("m-free"),a=e=>{t.value=e.target.id},s=(0,r.oR)(),l=(e,a)=>{s.dispatch("form3/updateForm3",new W(t.value,e,a))};return(e,s)=>((0,i.wg)(),(0,i.iD)(i.HY,null,[Wa,(0,i._)("ul",Xa,[(0,i._)("li",Za,[(0,i._)("a",{id:"m-simple",onClick:s[0]||(s[0]=e=>a(e)),class:(0,n.C_)("nav-link "+("m-simple"==t.value?"active":"")),href:"#"},"Mode simplifié",2)]),(0,i._)("li",es,[(0,i._)("a",{id:"m-free",onClick:s[1]||(s[1]=e=>a(e)),class:(0,n.C_)(["nav-link","nav-link "+("m-free"==t.value?"active":"")]),href:"#"},"Mode libre",2)])]),"m-simple"==t.value?((0,i.wg)(),(0,i.j4)(Ba,{key:0,abilitiesValues:[15,14,13,12,10,8],onStoreForm3:s[2]||(s[2]=(e,t)=>l(e,t))})):(0,i.kq)("",!0),"m-free"==t.value?((0,i.wg)(),(0,i.j4)(Qa,{key:1,onStoreForm3:s[3]||(s[3]=(e,t)=>l(e,t))})):(0,i.kq)("",!0),(0,i.Wm)(xt,{onNext:s[4]||(s[4]=t=>e.emit("next")),onPrevious:s[5]||(s[5]=t=>e.emit("previous"))})],64))}};const as=ts;var ss=as;const is={class:"mb-3"},ns=(0,i._)("label",{class:"form-label",for:"characterName"},"Selection de l'historique",-1),rs=(0,i._)("option",{id:"option-default",value:""},"-",-1),ls=["selected","id","value"];var os={__name:"CharacterForm4",emits:["next","previous"],setup(e,{emit:t}){console.log(ia);const a=t,s=ia,l=(0,r.oR)(),o=(0,i.Fl)((()=>l.getters["form4/historicChoices"])),c=(0,i.Fl)((()=>l.getters["form4/choices"])),u=e=>{l.dispatch("form4/updateHistoricChoices",e)};return(e,t)=>((0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",is,[ns,(0,i._)("select",{class:"form-select",onInput:t[0]||(t[0]=e=>(0,v.SU)(l).dispatch("form4/updateHistoric",e.target.options[e.target.options.selectedIndex].id.split("-")[1]))},[rs,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)((0,v.SU)(s),((e,t)=>((0,i.wg)(),(0,i.iD)("option",{selected:e["key"]==o.value.name,id:`option-${e["key"]}`,key:t,value:e["name"]},(0,n.zw)(e["name"]),9,ls)))),128))],32)]),(0,i._)("div",null,["default"!=o.value.name&&Object.values((0,v.SU)(l).getters["form4/choices"]).find((e=>e.length>0))?((0,i.wg)(),(0,i.j4)(kt,{choices:(0,v.SU)(s).find((e=>e.key==o.value.name))?(0,v.SU)(s).find((e=>e.key==o.value.name)).choices:[],key:o.value.name,state:c.value,"onUpdate:choices":t[1]||(t[1]=e=>u(e))},null,8,["choices","state"])):(0,i.kq)("",!0)]),(0,i.Wm)(xt,{onNext:t[2]||(t[2]=e=>a("next")),onPrevious:t[3]||(t[3]=e=>a("previous"))})],64))}};const cs=os;var us=cs,ms={};const ds={class:"container pt-5"},ps={class:"row"},vs={class:"col-md-6"},hs=["aria-valuenow"],gs={class:"col-md-6 ps-md-5 mt-5 mt-md-0"},fs={class:"bg-light border border-dark rounded"};var Ss={__name:"App",setup(e){const t=(0,v.iH)({force:0,dexterite:0,constitution:0,intelligence:0,sagesse:0,charisme:0}),a=(0,v.iH)([]),s=(0,v.iH)({Acrobaties:0,Arnaque:0,"Athlétisme":0,"Discrétion":0,Dressage:0,Escamotage:0,Histoire:0,Intimidation:0,Investigation:0,"Médecine":0,Nature:0,Perception:0,"Perspicacité":0,Persuasion:0,Religion:0,"Représentation":0,Survie:0}),r=(0,v.iH)(""),l={classe:null,"équipements":{},"compétences":{},maitrise:{},sauvegarde:[],"capacités":[],bonus_maitrise:""},o=(0,v.iH)(0),c=(0,v.iH)(""),u=e=>c.value=e,m=e=>{let a;if(""!==r.value){a=ms["race"][r.value]["caractériques"];for(let e in a)t.value[e]-=parseInt(a[e])}r.value=e,a=ms["race"][e]["caractériques"];for(let s in a)t.value[s]+=parseInt(a[s])},d=(0,v.iH)(2),h=(e,t)=>{for(let a in s.value)void 0!==e[a]&&null!==e&&(s.value[a]-=parseInt(e[a])),void 0!==t[a]&&(s.value[a]+=parseInt(t[a]))},g=(e,t)=>{for(let s in e)void 0!==e[s]&&null!==e&&a.value.splice(a.value.indexOf(e[s]),1);for(let s in t)void 0!==t[s]&&a.value.push(t[s])},f=e=>{h(l["compétences"],e["compétences"]),g(l["équipements"],e["équipements"]),l["compétences"]=JSON.parse(JSON.stringify(e["compétences"])),l["équipements"]=JSON.parse(JSON.stringify(e["équipements"])),o.value=parseInt(e["bonus_maitrise"])};return(e,l)=>((0,i.wg)(),(0,i.iD)("div",ds,[(0,i._)("div",ps,[(0,i._)("div",vs,[(0,i._)("div",{class:"progress mb-3",role:"progressbar","aria-label":"Example 20px high","aria-valuenow":d.value/2*100,"aria-valuemin":"0","aria-valuemax":"100",style:{height:"20px"}},[(0,i._)("div",{class:"progress-bar",style:(0,n.j5)(`width: ${d.value/2*100}%`)},null,4)],8,hs),0===d.value?((0,i.wg)(),(0,i.j4)(p,{key:0,"onUpdate:characterName":l[0]||(l[0]=e=>u(e)),onNext:l[1]||(l[1]=e=>d.value++)})):(0,i.kq)("",!0),1===d.value?((0,i.wg)(),(0,i.j4)(Mt,{key:1,"onUpdate:race":l[2]||(l[2]=e=>m(e)),onNext:l[3]||(l[3]=e=>d.value++),onPrevious:l[4]||(l[4]=e=>d.value--),"onUpdate:classe":l[5]||(l[5]=e=>f(e))})):(0,i.kq)("",!0),2===d.value?((0,i.wg)(),(0,i.j4)(ss,{key:2,onNext:l[6]||(l[6]=e=>d.value++),onPrevious:l[7]||(l[7]=e=>d.value--)})):(0,i.kq)("",!0),3===d.value?((0,i.wg)(),(0,i.j4)(us,{key:3,onNext:l[8]||(l[8]=e=>d.value++),onPrevious:l[9]||(l[9]=e=>d.value--)})):(0,i.kq)("",!0)]),(0,i._)("div",gs,[(0,i._)("div",fs,[(0,i.Wm)(bt,{"character-name":c.value,race:r.value,caracteristiques:t.value,competences:s.value,equipements:a.value,bonus_maitrise:o.value},null,8,["character-name","race","caracteristiques","competences","equipements","bonus_maitrise"])])])])]))}};const bs=Ss;var _s=bs;const ys=(0,s.ri)(_s);ys.use(ba),ys.mount("#app")}},t={};function a(s){var i=t[s];if(void 0!==i)return i.exports;var n=t[s]={exports:{}};return e[s].call(n.exports,n,n.exports,a),n.exports}a.m=e,function(){var e=[];a.O=function(t,s,i,n){if(!s){var r=1/0;for(u=0;u<e.length;u++){s=e[u][0],i=e[u][1],n=e[u][2];for(var l=!0,o=0;o<s.length;o++)(!1&n||r>=n)&&Object.keys(a.O).every((function(e){return a.O[e](s[o])}))?s.splice(o--,1):(l=!1,n<r&&(r=n));if(l){e.splice(u--,1);var c=i();void 0!==c&&(t=c)}}return t}n=n||0;for(var u=e.length;u>0&&e[u-1][2]>n;u--)e[u]=e[u-1];e[u]=[s,i,n]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,s){var i,n,r=s[0],l=s[1],o=s[2],c=0;if(r.some((function(t){return 0!==e[t]}))){for(i in l)a.o(l,i)&&(a.m[i]=l[i]);if(o)var u=o(a)}for(t&&t(s);c<r.length;c++)n=r[c],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return a.O(u)},s=self["webpackChunkdnd"]=self["webpackChunkdnd"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(7085)}));s=a.O(s)})();
//# sourceMappingURL=app.425e59f3.js.map